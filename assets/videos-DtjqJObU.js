import{r as t}from"./___vite-browser-external_commonjs-proxy-D5wFEbJ4.js";import{y as e,x as n,X as r,az as a,aA as i}from"./MyApp-DRRa55Bd.js";import"./index-DZEcYG8Q.js";var s,o,u,l,c,d,p,m,f,g,y,h,_,E,T,v,b,N={},A={},F={exports:{}};function x(){if(o)return A;o=1;var e=(s||(s=1,function(e,n){var r=t,a=r.Buffer;function i(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return a(t,e,n)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=r:(i(r,n),n.Buffer=s),i(a,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return a(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=a(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return a(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}}(F,F.exports)),F.exports).Buffer,n=e.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(t){var r;switch(this.encoding=function(t){var r=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof r&&(e.isEncoding===n||!n(t)))throw new Error("Unknown encoding: "+t);return r||t}(t),this.encoding){case"utf16le":this.text=u,this.end=l,r=4;break;case"utf8":this.fillLast=i,r=4;break;case"base64":this.text=c,this.end=d,r=3;break;default:return this.write=p,void(this.end=m)}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(r)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function i(t){var e=this.lastTotal-this.lastNeed,n=function(t,e){if(128!=(192&e[0]))return t.lastNeed=0,"ï¿½";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"ï¿½";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"ï¿½"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function l(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function c(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function d(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function p(t){return t.toString(this.encoding)}function m(t){return t&&t.length?this.write(t):""}return A.StringDecoder=r,r.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},r.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"ï¿½":e},r.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=a(e[r]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if(i=a(e[r]),i>=0)return i>0&&(t.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if(i=a(e[r]),i>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},r.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length},A}function I(){return u||(u=1,function(e){e.parser=function(t,e){return new a(t,e)},e.SAXParser=a,e.SAXStream=s,e.createStream=function(t,e){return new s(t,e)},e.MAX_BUFFER_LENGTH=65536;var n,r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function a(t,n){if(!(this instanceof a))return new a(t,n);var i=this;!function(t){for(var e=0,n=r.length;e<n;e++)t[r[e]]=""}(i),i.q=i.c="",i.bufferCheckPosition=e.MAX_BUFFER_LENGTH,i.opt=n||{},i.opt.lowercase=i.opt.lowercase||i.opt.lowercasetags,i.looseCase=i.opt.lowercase?"toLowerCase":"toUpperCase",i.tags=[],i.closed=i.closedRoot=i.sawRoot=!1,i.tag=i.error=null,i.strict=!!t,i.noscript=!(!t&&!i.opt.noscript),i.state=A.BEGIN,i.strictEntities=i.opt.strictEntities,i.ENTITIES=i.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),i.attribList=[],i.opt.xmlns&&(i.ns=Object.create(d)),void 0===i.opt.unquotedAttributeValues&&(i.opt.unquotedAttributeValues=!t),i.trackPosition=!1!==i.opt.position,i.trackPosition&&(i.position=i.line=i.column=0),I(i,"onready")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(t){function e(){}return e.prototype=t,new e}),Object.keys||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}),a.prototype={end:function(){S(this)},write:function(t){var n=this;if(this.error)throw this.error;if(n.closed)return O(n,"Cannot write after close. Assign an onready handler.");if(null===t)return S(n);"object"==typeof t&&(t=t.toString());for(var a=0,i="";i=G(t,a++),n.c=i,i;)switch(n.trackPosition&&(n.position++,"\n"===i?(n.line++,n.column=0):n.column++),n.state){case A.BEGIN:if(n.state=A.BEGIN_WHITESPACE,"\ufeff"===i)continue;V(n,i);continue;case A.BEGIN_WHITESPACE:V(n,i);continue;case A.TEXT:if(n.sawRoot&&!n.closedRoot){for(var s=a-1;i&&"<"!==i&&"&"!==i;)(i=G(t,a++))&&n.trackPosition&&(n.position++,"\n"===i?(n.line++,n.column=0):n.column++);n.textNode+=t.substring(s,a-1)}"<"!==i||n.sawRoot&&n.closedRoot&&!n.strict?(y(i)||n.sawRoot&&!n.closedRoot||K(n,"Text data outside of root node."),"&"===i?n.state=A.TEXT_ENTITY:n.textNode+=i):(n.state=A.OPEN_WAKA,n.startTagPosition=n.position);continue;case A.SCRIPT:"<"===i?n.state=A.SCRIPT_ENDING:n.script+=i;continue;case A.SCRIPT_ENDING:"/"===i?n.state=A.CLOSE_TAG:(n.script+="<"+i,n.state=A.SCRIPT);continue;case A.OPEN_WAKA:if("!"===i)n.state=A.SGML_DECL,n.sgmlDecl="";else if(y(i));else if(E(p,i))n.state=A.OPEN_TAG,n.tagName=i;else if("/"===i)n.state=A.CLOSE_TAG,n.tagName="";else if("?"===i)n.state=A.PROC_INST,n.procInstName=n.procInstBody="";else{if(K(n,"Unencoded <"),n.startTagPosition+1<n.position){var l=n.position-n.startTagPosition;i=new Array(l).join(" ")+i}n.textNode+="<"+i,n.state=A.TEXT}continue;case A.SGML_DECL:if(n.sgmlDecl+i==="--"){n.state=A.COMMENT,n.comment="",n.sgmlDecl="";continue}n.doctype&&!0!==n.doctype&&n.sgmlDecl?(n.state=A.DOCTYPE_DTD,n.doctype+="<!"+n.sgmlDecl+i,n.sgmlDecl=""):(n.sgmlDecl+i).toUpperCase()===o?(C(n,"onopencdata"),n.state=A.CDATA,n.sgmlDecl="",n.cdata=""):(n.sgmlDecl+i).toUpperCase()===u?(n.state=A.DOCTYPE,(n.doctype||n.sawRoot)&&K(n,"Inappropriately located doctype declaration"),n.doctype="",n.sgmlDecl=""):">"===i?(C(n,"onsgmldeclaration",n.sgmlDecl),n.sgmlDecl="",n.state=A.TEXT):h(i)?(n.state=A.SGML_DECL_QUOTED,n.sgmlDecl+=i):n.sgmlDecl+=i;continue;case A.SGML_DECL_QUOTED:i===n.q&&(n.state=A.SGML_DECL,n.q=""),n.sgmlDecl+=i;continue;case A.DOCTYPE:">"===i?(n.state=A.TEXT,C(n,"ondoctype",n.doctype),n.doctype=!0):(n.doctype+=i,"["===i?n.state=A.DOCTYPE_DTD:h(i)&&(n.state=A.DOCTYPE_QUOTED,n.q=i));continue;case A.DOCTYPE_QUOTED:n.doctype+=i,i===n.q&&(n.q="",n.state=A.DOCTYPE);continue;case A.DOCTYPE_DTD:"]"===i?(n.doctype+=i,n.state=A.DOCTYPE):"<"===i?(n.state=A.OPEN_WAKA,n.startTagPosition=n.position):h(i)?(n.doctype+=i,n.state=A.DOCTYPE_DTD_QUOTED,n.q=i):n.doctype+=i;continue;case A.DOCTYPE_DTD_QUOTED:n.doctype+=i,i===n.q&&(n.state=A.DOCTYPE_DTD,n.q="");continue;case A.COMMENT:"-"===i?n.state=A.COMMENT_ENDING:n.comment+=i;continue;case A.COMMENT_ENDING:"-"===i?(n.state=A.COMMENT_ENDED,n.comment=w(n.opt,n.comment),n.comment&&C(n,"oncomment",n.comment),n.comment=""):(n.comment+="-"+i,n.state=A.COMMENT);continue;case A.COMMENT_ENDED:">"!==i?(K(n,"Malformed comment"),n.comment+="--"+i,n.state=A.COMMENT):n.doctype&&!0!==n.doctype?n.state=A.DOCTYPE_DTD:n.state=A.TEXT;continue;case A.CDATA:"]"===i?n.state=A.CDATA_ENDING:n.cdata+=i;continue;case A.CDATA_ENDING:"]"===i?n.state=A.CDATA_ENDING_2:(n.cdata+="]"+i,n.state=A.CDATA);continue;case A.CDATA_ENDING_2:">"===i?(n.cdata&&C(n,"oncdata",n.cdata),C(n,"onclosecdata"),n.cdata="",n.state=A.TEXT):"]"===i?n.cdata+="]":(n.cdata+="]]"+i,n.state=A.CDATA);continue;case A.PROC_INST:"?"===i?n.state=A.PROC_INST_ENDING:y(i)?n.state=A.PROC_INST_BODY:n.procInstName+=i;continue;case A.PROC_INST_BODY:if(!n.procInstBody&&y(i))continue;"?"===i?n.state=A.PROC_INST_ENDING:n.procInstBody+=i;continue;case A.PROC_INST_ENDING:">"===i?(C(n,"onprocessinginstruction",{name:n.procInstName,body:n.procInstBody}),n.procInstName=n.procInstBody="",n.state=A.TEXT):(n.procInstBody+="?"+i,n.state=A.PROC_INST_BODY);continue;case A.OPEN_TAG:E(m,i)?n.tagName+=i:(P(n),">"===i?U(n):"/"===i?n.state=A.OPEN_TAG_SLASH:(y(i)||K(n,"Invalid character in tag name"),n.state=A.ATTRIB));continue;case A.OPEN_TAG_SLASH:">"===i?(U(n,!0),B(n)):(K(n,"Forward-slash in opening tag not followed by >"),n.state=A.ATTRIB);continue;case A.ATTRIB:if(y(i))continue;">"===i?U(n):"/"===i?n.state=A.OPEN_TAG_SLASH:E(p,i)?(n.attribName=i,n.attribValue="",n.state=A.ATTRIB_NAME):K(n,"Invalid attribute name");continue;case A.ATTRIB_NAME:"="===i?n.state=A.ATTRIB_VALUE:">"===i?(K(n,"Attribute without value"),n.attribValue=n.attribName,L(n),U(n)):y(i)?n.state=A.ATTRIB_NAME_SAW_WHITE:E(m,i)?n.attribName+=i:K(n,"Invalid attribute name");continue;case A.ATTRIB_NAME_SAW_WHITE:if("="===i)n.state=A.ATTRIB_VALUE;else{if(y(i))continue;K(n,"Attribute without value"),n.tag.attributes[n.attribName]="",n.attribValue="",C(n,"onattribute",{name:n.attribName,value:""}),n.attribName="",">"===i?U(n):E(p,i)?(n.attribName=i,n.state=A.ATTRIB_NAME):(K(n,"Invalid attribute name"),n.state=A.ATTRIB)}continue;case A.ATTRIB_VALUE:if(y(i))continue;h(i)?(n.q=i,n.state=A.ATTRIB_VALUE_QUOTED):(n.opt.unquotedAttributeValues||O(n,"Unquoted attribute value"),n.state=A.ATTRIB_VALUE_UNQUOTED,n.attribValue=i);continue;case A.ATTRIB_VALUE_QUOTED:if(i!==n.q){"&"===i?n.state=A.ATTRIB_VALUE_ENTITY_Q:n.attribValue+=i;continue}L(n),n.q="",n.state=A.ATTRIB_VALUE_CLOSED;continue;case A.ATTRIB_VALUE_CLOSED:y(i)?n.state=A.ATTRIB:">"===i?U(n):"/"===i?n.state=A.OPEN_TAG_SLASH:E(p,i)?(K(n,"No whitespace between attributes"),n.attribName=i,n.attribValue="",n.state=A.ATTRIB_NAME):K(n,"Invalid attribute name");continue;case A.ATTRIB_VALUE_UNQUOTED:if(!_(i)){"&"===i?n.state=A.ATTRIB_VALUE_ENTITY_U:n.attribValue+=i;continue}L(n),">"===i?U(n):n.state=A.ATTRIB;continue;case A.CLOSE_TAG:if(n.tagName)">"===i?B(n):E(m,i)?n.tagName+=i:n.script?(n.script+="</"+n.tagName,n.tagName="",n.state=A.SCRIPT):(y(i)||K(n,"Invalid tagname in closing tag"),n.state=A.CLOSE_TAG_SAW_WHITE);else{if(y(i))continue;T(p,i)?n.script?(n.script+="</"+i,n.state=A.SCRIPT):K(n,"Invalid tagname in closing tag."):n.tagName=i}continue;case A.CLOSE_TAG_SAW_WHITE:if(y(i))continue;">"===i?B(n):K(n,"Invalid characters in closing tag");continue;case A.TEXT_ENTITY:case A.ATTRIB_VALUE_ENTITY_Q:case A.ATTRIB_VALUE_ENTITY_U:var c,d;switch(n.state){case A.TEXT_ENTITY:c=A.TEXT,d="textNode";break;case A.ATTRIB_VALUE_ENTITY_Q:c=A.ATTRIB_VALUE_QUOTED,d="attribValue";break;case A.ATTRIB_VALUE_ENTITY_U:c=A.ATTRIB_VALUE_UNQUOTED,d="attribValue"}if(";"===i){var v=k(n);n.opt.unparsedEntities&&!Object.values(e.XML_ENTITIES).includes(v)?(n.entity="",n.state=c,n.write(v)):(n[d]+=v,n.entity="",n.state=c)}else E(n.entity.length?g:f,i)?n.entity+=i:(K(n,"Invalid character in entity name"),n[d]+="&"+n.entity+i,n.entity="",n.state=c);continue;default:throw new Error(n,"Unknown state: "+n.state)}return n.position>=n.bufferCheckPosition&&function(t){for(var n=Math.max(e.MAX_BUFFER_LENGTH,10),a=0,i=0,s=r.length;i<s;i++){var o=t[r[i]].length;if(o>n)switch(r[i]){case"textNode":D(t);break;case"cdata":C(t,"oncdata",t.cdata),t.cdata="";break;case"script":C(t,"onscript",t.script),t.script="";break;default:O(t,"Max buffer length exceeded: "+r[i])}a=Math.max(a,o)}var u=e.MAX_BUFFER_LENGTH-a;t.bufferCheckPosition=u+t.position}(n),n}
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var t;D(t=this),""!==t.cdata&&(C(t,"oncdata",t.cdata),t.cdata=""),""!==t.script&&(C(t,"onscript",t.script),t.script="")}};try{n=t.Stream}catch(M){n=function(){}}n||(n=function(){});var i=e.EVENTS.filter((function(t){return"error"!==t&&"end"!==t}));function s(t,e){if(!(this instanceof s))return new s(t,e);n.apply(this),this._parser=new a(t,e),this.writable=!0,this.readable=!0;var r=this;this._parser.onend=function(){r.emit("end")},this._parser.onerror=function(t){r.emit("error",t),r._parser.error=null},this._decoder=null,i.forEach((function(t){Object.defineProperty(r,"on"+t,{get:function(){return r._parser["on"+t]},set:function(e){if(!e)return r.removeAllListeners(t),r._parser["on"+t]=e,e;r.on(t,e)},enumerable:!0,configurable:!1})}))}s.prototype=Object.create(n.prototype,{constructor:{value:s}}),s.prototype.write=function(t){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(t)){if(!this._decoder){var e=x().StringDecoder;this._decoder=new e("utf8")}t=this._decoder.write(t)}return this._parser.write(t.toString()),this.emit("data",t),!0},s.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},s.prototype.on=function(t,e){var r=this;return r._parser["on"+t]||-1===i.indexOf(t)||(r._parser["on"+t]=function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t),r.emit.apply(r,e)}),n.prototype.on.call(r,t,e)};var o="[CDATA[",u="DOCTYPE",l="http://www.w3.org/XML/1998/namespace",c="http://www.w3.org/2000/xmlns/",d={xml:l,xmlns:c},p=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,f=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,g=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function y(t){return" "===t||"\n"===t||"\r"===t||"\t"===t}function h(t){return'"'===t||"'"===t}function _(t){return">"===t||y(t)}function E(t,e){return t.test(e)}function T(t,e){return!E(t,e)}var v,b,N,A=0;for(var F in e.STATE={BEGIN:A++,BEGIN_WHITESPACE:A++,TEXT:A++,TEXT_ENTITY:A++,OPEN_WAKA:A++,SGML_DECL:A++,SGML_DECL_QUOTED:A++,DOCTYPE:A++,DOCTYPE_QUOTED:A++,DOCTYPE_DTD:A++,DOCTYPE_DTD_QUOTED:A++,COMMENT_STARTING:A++,COMMENT:A++,COMMENT_ENDING:A++,COMMENT_ENDED:A++,CDATA:A++,CDATA_ENDING:A++,CDATA_ENDING_2:A++,PROC_INST:A++,PROC_INST_BODY:A++,PROC_INST_ENDING:A++,OPEN_TAG:A++,OPEN_TAG_SLASH:A++,ATTRIB:A++,ATTRIB_NAME:A++,ATTRIB_NAME_SAW_WHITE:A++,ATTRIB_VALUE:A++,ATTRIB_VALUE_QUOTED:A++,ATTRIB_VALUE_CLOSED:A++,ATTRIB_VALUE_UNQUOTED:A++,ATTRIB_VALUE_ENTITY_Q:A++,ATTRIB_VALUE_ENTITY_U:A++,CLOSE_TAG:A++,CLOSE_TAG_SAW_WHITE:A++,SCRIPT:A++,SCRIPT_ENDING:A++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach((function(t){var n=e.ENTITIES[t],r="number"==typeof n?String.fromCharCode(n):n;e.ENTITIES[t]=r})),e.STATE)e.STATE[e.STATE[F]]=F;function I(t,e,n){t[e]&&t[e](n)}function C(t,e,n){t.textNode&&D(t),I(t,e,n)}function D(t){t.textNode=w(t.opt,t.textNode),t.textNode&&I(t,"ontext",t.textNode),t.textNode=""}function w(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function O(t,e){return D(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=new Error(e),t.error=e,I(t,"onerror",e),t}function S(t){return t.sawRoot&&!t.closedRoot&&K(t,"Unclosed root tag"),t.state!==A.BEGIN&&t.state!==A.BEGIN_WHITESPACE&&t.state!==A.TEXT&&O(t,"Unexpected end"),D(t),t.c="",t.closed=!0,I(t,"onend"),a.call(t,t.strict,t.opt),t}function K(t,e){if("object"!=typeof t||!(t instanceof a))throw new Error("bad call to strictFail");t.strict&&O(t,e)}function P(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,n=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(n.ns=e.ns),t.attribList.length=0,C(t,"onopentagstart",n)}function R(t,e){var n=t.indexOf(":")<0?["",t]:t.split(":"),r=n[0],a=n[1];return e&&"xmlns"===t&&(r="xmlns",a=""),{prefix:r,local:a}}function L(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName))t.attribName=t.attribValue="";else{if(t.opt.xmlns){var e=R(t.attribName,!0),n=e.prefix,r=e.local;if("xmlns"===n)if("xml"===r&&t.attribValue!==l)K(t,"xml: prefix must be bound to "+l+"\nActual: "+t.attribValue);else if("xmlns"===r&&t.attribValue!==c)K(t,"xmlns: prefix must be bound to "+c+"\nActual: "+t.attribValue);else{var a=t.tag,i=t.tags[t.tags.length-1]||t;a.ns===i.ns&&(a.ns=Object.create(i.ns)),a.ns[r]=t.attribValue}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,C(t,"onattribute",{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=""}}function U(t,e){if(t.opt.xmlns){var n=t.tag,r=R(t.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(K(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName)),n.uri=r.prefix);var a=t.tags[t.tags.length-1]||t;n.ns&&a.ns!==n.ns&&Object.keys(n.ns).forEach((function(e){C(t,"onopennamespace",{prefix:e,uri:n.ns[e]})}));for(var i=0,s=t.attribList.length;i<s;i++){var o=t.attribList[i],u=o[0],l=o[1],c=R(u,!0),d=c.prefix,p=c.local,m=""===d?"":n.ns[d]||"",f={name:u,value:l,prefix:d,local:p,uri:m};d&&"xmlns"!==d&&!m&&(K(t,"Unbound namespace prefix: "+JSON.stringify(d)),f.uri=d),t.tag.attributes[u]=f,C(t,"onattribute",f)}t.attribList.length=0}t.tag.isSelfClosing=!!e,t.sawRoot=!0,t.tags.push(t.tag),C(t,"onopentag",t.tag),e||(t.noscript||"script"!==t.tagName.toLowerCase()?t.state=A.TEXT:t.state=A.SCRIPT,t.tag=null,t.tagName=""),t.attribName=t.attribValue="",t.attribList.length=0}function B(t){if(!t.tagName)return K(t,"Weird empty close tag."),t.textNode+="</>",void(t.state=A.TEXT);if(t.script){if("script"!==t.tagName)return t.script+="</"+t.tagName+">",t.tagName="",void(t.state=A.SCRIPT);C(t,"onscript",t.script),t.script=""}var e=t.tags.length,n=t.tagName;t.strict||(n=n[t.looseCase]());for(var r=n;e--&&t.tags[e].name!==r;)K(t,"Unexpected close tag");if(e<0)return K(t,"Unmatched closing tag: "+t.tagName),t.textNode+="</"+t.tagName+">",void(t.state=A.TEXT);t.tagName=n;for(var a=t.tags.length;a-- >e;){var i=t.tag=t.tags.pop();t.tagName=t.tag.name,C(t,"onclosetag",t.tagName);var s={};for(var o in i.ns)s[o]=i.ns[o];var u=t.tags[t.tags.length-1]||t;t.opt.xmlns&&i.ns!==u.ns&&Object.keys(i.ns).forEach((function(e){var n=i.ns[e];C(t,"onclosenamespace",{prefix:e,uri:n})}))}0===e&&(t.closedRoot=!0),t.tagName=t.attribValue=t.attribName="",t.attribList.length=0,t.state=A.TEXT}function k(t){var e,n=t.entity,r=n.toLowerCase(),a="";return t.ENTITIES[n]?t.ENTITIES[n]:t.ENTITIES[r]?t.ENTITIES[r]:("#"===(n=r).charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),a=(e=parseInt(n,16)).toString(16)):(n=n.slice(1),a=(e=parseInt(n,10)).toString(10))),n=n.replace(/^0+/,""),isNaN(e)||a.toLowerCase()!==n?(K(t,"Invalid character entity"),"&"+t.entity+";"):String.fromCodePoint(e))}function V(t,e){"<"===e?(t.state=A.OPEN_WAKA,t.startTagPosition=t.position):y(e)||(K(t,"Non-whitespace before first tag."),t.textNode=e,t.state=A.TEXT)}function G(t,e){var n="";return e<t.length&&(n=t.charAt(e)),n}A=e.STATE,String.fromCodePoint||(v=String.fromCharCode,b=Math.floor,N=function(){var t,e,n=[],r=-1,a=arguments.length;if(!a)return"";for(var i="";++r<a;){var s=Number(arguments[r]);if(!isFinite(s)||s<0||s>1114111||b(s)!==s)throw RangeError("Invalid code point: "+s);s<=65535?n.push(s):(t=55296+((s-=65536)>>10),e=s%1024+56320,n.push(t,e)),(r+1===a||n.length>16384)&&(i+=v.apply(null,n),n.length=0)}return i},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:N,configurable:!0,writable:!0}):String.fromCodePoint=N)}(N)),N}function C(){return c?l:(c=1,l={isArray:function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)}})}function D(){if(p)return d;p=1;var t=C().isArray;return d={copyOptions:function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n},ensureFlagExists:function(t,e){t in e&&"boolean"==typeof e[t]||(e[t]=!1)},ensureSpacesExists:function(t){(!("spaces"in t)||"number"!=typeof t.spaces&&"string"!=typeof t.spaces)&&(t.spaces=0)},ensureAlwaysArrayExists:function(e){"alwaysArray"in e&&("boolean"==typeof e.alwaysArray||t(e.alwaysArray))||(e.alwaysArray=!1)},ensureKeyExists:function(t,e){t+"Key"in e&&"string"==typeof e[t+"Key"]||(e[t+"Key"]=e.compact?"_"+t:t)},checkFnExists:function(t,e){return t+"Fn"in e}}}function w(){if(f)return m;f=1;var t,e,n=I(),r=D(),a=C().isArray;function i(t){var e=Number(t);if(!isNaN(e))return e;var n=t.toLowerCase();return"true"===n||"false"!==n&&t}function s(n,r){var i;if(t.compact){if(!e[t[n+"Key"]]&&(a(t.alwaysArray)?-1!==t.alwaysArray.indexOf(t[n+"Key"]):t.alwaysArray)&&(e[t[n+"Key"]]=[]),e[t[n+"Key"]]&&!a(e[t[n+"Key"]])&&(e[t[n+"Key"]]=[e[t[n+"Key"]]]),n+"Fn"in t&&"string"==typeof r&&(r=t[n+"Fn"](r,e)),"instruction"===n&&("instructionFn"in t||"instructionNameFn"in t))for(i in r)if(r.hasOwnProperty(i))if("instructionFn"in t)r[i]=t.instructionFn(r[i],i,e);else{var s=r[i];delete r[i],r[t.instructionNameFn(i,s,e)]=s}a(e[t[n+"Key"]])?e[t[n+"Key"]].push(r):e[t[n+"Key"]]=r}else{e[t.elementsKey]||(e[t.elementsKey]=[]);var o={};if(o[t.typeKey]=n,"instruction"===n){for(i in r)if(r.hasOwnProperty(i))break;o[t.nameKey]="instructionNameFn"in t?t.instructionNameFn(i,r,e):i,t.instructionHasAttributes?(o[t.attributesKey]=r[i][t.attributesKey],"instructionFn"in t&&(o[t.attributesKey]=t.instructionFn(o[t.attributesKey],i,e))):("instructionFn"in t&&(r[i]=t.instructionFn(r[i],i,e)),o[t.instructionKey]=r[i])}else n+"Fn"in t&&(r=t[n+"Fn"](r,e)),o[t[n+"Key"]]=r;t.addParent&&(o[t.parentKey]=e),e[t.elementsKey].push(o)}}function o(n){var r;if("attributesFn"in t&&n&&(n=t.attributesFn(n,e)),(t.trim||"attributeValueFn"in t||"attributeNameFn"in t||t.nativeTypeAttributes)&&n)for(r in n)if(n.hasOwnProperty(r)&&(t.trim&&(n[r]=n[r].trim()),t.nativeTypeAttributes&&(n[r]=i(n[r])),"attributeValueFn"in t&&(n[r]=t.attributeValueFn(n[r],r,e)),"attributeNameFn"in t)){var a=n[r];delete n[r],n[t.attributeNameFn(r,n[r],e)]=a}return n}function u(n){var r={};if(n.body&&("xml"===n.name.toLowerCase()||t.instructionHasAttributes)){for(var a,i=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g;null!==(a=i.exec(n.body));)r[a[1]]=a[2]||a[3]||a[4];r=o(r)}if("xml"===n.name.toLowerCase()){if(t.ignoreDeclaration)return;e[t.declarationKey]={},Object.keys(r).length&&(e[t.declarationKey][t.attributesKey]=r),t.addParent&&(e[t.declarationKey][t.parentKey]=e)}else{if(t.ignoreInstruction)return;t.trim&&(n.body=n.body.trim());var u={};t.instructionHasAttributes&&Object.keys(r).length?(u[n.name]={},u[n.name][t.attributesKey]=r):u[n.name]=n.body,s("instruction",u)}}function l(n,r){var i;if("object"==typeof n&&(r=n.attributes,n=n.name),r=o(r),"elementNameFn"in t&&(n=t.elementNameFn(n,e)),t.compact){var s;if(i={},!t.ignoreAttributes&&r&&Object.keys(r).length)for(s in i[t.attributesKey]={},r)r.hasOwnProperty(s)&&(i[t.attributesKey][s]=r[s]);!(n in e)&&(a(t.alwaysArray)?-1!==t.alwaysArray.indexOf(n):t.alwaysArray)&&(e[n]=[]),e[n]&&!a(e[n])&&(e[n]=[e[n]]),a(e[n])?e[n].push(i):e[n]=i}else e[t.elementsKey]||(e[t.elementsKey]=[]),(i={})[t.typeKey]="element",i[t.nameKey]=n,!t.ignoreAttributes&&r&&Object.keys(r).length&&(i[t.attributesKey]=r),t.alwaysChildren&&(i[t.elementsKey]=[]),e[t.elementsKey].push(i);i[t.parentKey]=e,e=i}function c(e){t.ignoreText||(e.trim()||t.captureSpacesBetweenElements)&&(t.trim&&(e=e.trim()),t.nativeType&&(e=i(e)),t.sanitize&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),s("text",e))}function d(e){t.ignoreComment||(t.trim&&(e=e.trim()),s("comment",e))}function p(n){var r=e[t.parentKey];t.addParent||delete e[t.parentKey],e=r}function g(e){t.ignoreCdata||(t.trim&&(e=e.trim()),s("cdata",e))}function y(e){t.ignoreDoctype||(e=e.replace(/^ /,""),t.trim&&(e=e.trim()),s("doctype",e))}function h(t){t.note=t}return m=function(a,i){var s=n.parser(!0,{}),o={};if(e=o,t=function(e){return t=r.copyOptions(e),r.ensureFlagExists("ignoreDeclaration",t),r.ensureFlagExists("ignoreInstruction",t),r.ensureFlagExists("ignoreAttributes",t),r.ensureFlagExists("ignoreText",t),r.ensureFlagExists("ignoreComment",t),r.ensureFlagExists("ignoreCdata",t),r.ensureFlagExists("ignoreDoctype",t),r.ensureFlagExists("compact",t),r.ensureFlagExists("alwaysChildren",t),r.ensureFlagExists("addParent",t),r.ensureFlagExists("trim",t),r.ensureFlagExists("nativeType",t),r.ensureFlagExists("nativeTypeAttributes",t),r.ensureFlagExists("sanitize",t),r.ensureFlagExists("instructionHasAttributes",t),r.ensureFlagExists("captureSpacesBetweenElements",t),r.ensureAlwaysArrayExists(t),r.ensureKeyExists("declaration",t),r.ensureKeyExists("instruction",t),r.ensureKeyExists("attributes",t),r.ensureKeyExists("text",t),r.ensureKeyExists("comment",t),r.ensureKeyExists("cdata",t),r.ensureKeyExists("doctype",t),r.ensureKeyExists("type",t),r.ensureKeyExists("name",t),r.ensureKeyExists("elements",t),r.ensureKeyExists("parent",t),r.checkFnExists("doctype",t),r.checkFnExists("instruction",t),r.checkFnExists("cdata",t),r.checkFnExists("comment",t),r.checkFnExists("text",t),r.checkFnExists("instructionName",t),r.checkFnExists("elementName",t),r.checkFnExists("attributeName",t),r.checkFnExists("attributeValue",t),r.checkFnExists("attributes",t),t}(i),s.opt={strictEntities:!0},s.onopentag=l,s.ontext=c,s.oncomment=d,s.onclosetag=p,s.onerror=h,s.oncdata=g,s.ondoctype=y,s.onprocessinginstruction=u,s.write(a).close(),o[t.elementsKey]){var m=o[t.elementsKey];delete o[t.elementsKey],o[t.elementsKey]=m,delete o.text}return o}}function O(){if(y)return g;y=1;var t=D(),e=w();return g=function(n,r){var a,i,s;return a=function(e){var n=t.copyOptions(e);return t.ensureSpacesExists(n),n}(r),i=e(n,a),s="compact"in a&&a.compact?"_parent":"parent",("addParent"in a&&a.addParent?JSON.stringify(i,(function(t,e){return t===s?"_":e}),a.spaces):JSON.stringify(i,null,a.spaces)).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}}function S(){if(_)return h;_=1;var t,e,n=D(),r=C().isArray;function a(t,e,n){return(!n&&t.spaces?"\n":"")+Array(e+1).join(t.spaces)}function i(n,r,i){if(r.ignoreAttributes)return"";"attributesFn"in r&&(n=r.attributesFn(n,e,t));var s,o,u,l,c=[];for(s in n)n.hasOwnProperty(s)&&null!==n[s]&&void 0!==n[s]&&(l=r.noQuotesForNativeAttributes&&"string"!=typeof n[s]?"":'"',o=(o=""+n[s]).replace(/"/g,"&quot;"),u="attributeNameFn"in r?r.attributeNameFn(s,o,e,t):s,c.push(r.spaces&&r.indentAttributes?a(r,i+1,!1):" "),c.push(u+"="+l+("attributeValueFn"in r?r.attributeValueFn(o,s,e,t):o)+l));return n&&Object.keys(n).length&&r.spaces&&r.indentAttributes&&c.push(a(r,i,!1)),c.join("")}function s(n,r,a){return t=n,e="xml",r.ignoreDeclaration?"":"<?xml"+i(n[r.attributesKey],r,a)+"?>"}function o(n,r,a){if(r.ignoreInstruction)return"";var s;for(s in n)if(n.hasOwnProperty(s))break;var o="instructionNameFn"in r?r.instructionNameFn(s,n[s],e,t):s;if("object"==typeof n[s])return t=n,e=o,"<?"+o+i(n[s][r.attributesKey],r,a)+"?>";var u=n[s]?n[s]:"";return"instructionFn"in r&&(u=r.instructionFn(u,s,e,t)),"<?"+o+(u?" "+u:"")+"?>"}function u(n,r){return r.ignoreComment?"":"\x3c!--"+("commentFn"in r?r.commentFn(n,e,t):n)+"--\x3e"}function l(n,r){return r.ignoreCdata?"":"<![CDATA["+("cdataFn"in r?r.cdataFn(n,e,t):n.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function c(n,r){return r.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in r?r.doctypeFn(n,e,t):n)+">"}function d(n,r){return r.ignoreText?"":(n=(n=(n=""+n).replace(/&amp;/g,"&")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in r?r.textFn(n,e,t):n)}function p(n,r,s,m){return n.reduce((function(n,f){var g=a(r,s,m&&!n);switch(f.type){case"element":return n+g+function(n,r,a){t=n,e=n.name;var s=[],o="elementNameFn"in r?r.elementNameFn(n.name,n):n.name;s.push("<"+o),n[r.attributesKey]&&s.push(i(n[r.attributesKey],r,a));var u=n[r.elementsKey]&&n[r.elementsKey].length||n[r.attributesKey]&&"preserve"===n[r.attributesKey]["xml:space"];return u||(u="fullTagEmptyElementFn"in r?r.fullTagEmptyElementFn(n.name,n):r.fullTagEmptyElement),u?(s.push(">"),n[r.elementsKey]&&n[r.elementsKey].length&&(s.push(p(n[r.elementsKey],r,a+1)),t=n,e=n.name),s.push(r.spaces&&function(t,e){var n;if(t.elements&&t.elements.length)for(n=0;n<t.elements.length;++n)switch(t.elements[n][e.typeKey]){case"text":if(e.indentText)return!0;break;case"cdata":if(e.indentCdata)return!0;break;case"instruction":if(e.indentInstruction)return!0;break;default:return!0}return!1}(n,r)?"\n"+Array(a+1).join(r.spaces):""),s.push("</"+o+">")):s.push("/>"),s.join("")}(f,r,s);case"comment":return n+g+u(f[r.commentKey],r);case"doctype":return n+g+c(f[r.doctypeKey],r);case"cdata":return n+(r.indentCdata?g:"")+l(f[r.cdataKey],r);case"text":return n+(r.indentText?g:"")+d(f[r.textKey],r);case"instruction":var y={};return y[f[r.nameKey]]=f[r.attributesKey]?f:f[r.instructionKey],n+(r.indentInstruction?g:"")+o(y,r,s)}}),"")}function m(t,e,n){var r;for(r in t)if(t.hasOwnProperty(r))switch(r){case e.parentKey:case e.attributesKey:break;case e.textKey:if(e.indentText||n)return!0;break;case e.cdataKey:if(e.indentCdata||n)return!0;break;case e.instructionKey:if(e.indentInstruction||n)return!0;break;case e.doctypeKey:case e.commentKey:default:return!0}return!1}function f(n,r,s,o,u){t=n,e=r;var l="elementNameFn"in s?s.elementNameFn(r,n):r;if(null==n||""===n)return"fullTagEmptyElementFn"in s&&s.fullTagEmptyElementFn(r,n)||s.fullTagEmptyElement?"<"+l+"></"+l+">":"<"+l+"/>";var c=[];if(r){if(c.push("<"+l),"object"!=typeof n)return c.push(">"+d(n,s)+"</"+l+">"),c.join("");n[s.attributesKey]&&c.push(i(n[s.attributesKey],s,o));var p=m(n,s,!0)||n[s.attributesKey]&&"preserve"===n[s.attributesKey]["xml:space"];if(p||(p="fullTagEmptyElementFn"in s?s.fullTagEmptyElementFn(r,n):s.fullTagEmptyElement),!p)return c.push("/>"),c.join("");c.push(">")}return c.push(g(n,s,o+1,!1)),t=n,e=r,r&&c.push((u?a(s,o,!1):"")+"</"+l+">"),c.join("")}function g(t,e,n,i){var p,g,y,h=[];for(g in t)if(t.hasOwnProperty(g))for(y=r(t[g])?t[g]:[t[g]],p=0;p<y.length;++p){switch(g){case e.declarationKey:h.push(s(y[p],e,n));break;case e.instructionKey:h.push((e.indentInstruction?a(e,n,i):"")+o(y[p],e,n));break;case e.attributesKey:case e.parentKey:break;case e.textKey:h.push((e.indentText?a(e,n,i):"")+d(y[p],e));break;case e.cdataKey:h.push((e.indentCdata?a(e,n,i):"")+l(y[p],e));break;case e.doctypeKey:h.push(a(e,n,i)+c(y[p],e));break;case e.commentKey:h.push(a(e,n,i)+u(y[p],e));break;default:h.push(a(e,n,i)+f(y[p],g,e,n,m(y[p],e)))}i=i&&!h.length}return h.join("")}return h=function(r,a){a=function(t){var e=n.copyOptions(t);return n.ensureFlagExists("ignoreDeclaration",e),n.ensureFlagExists("ignoreInstruction",e),n.ensureFlagExists("ignoreAttributes",e),n.ensureFlagExists("ignoreText",e),n.ensureFlagExists("ignoreComment",e),n.ensureFlagExists("ignoreCdata",e),n.ensureFlagExists("ignoreDoctype",e),n.ensureFlagExists("compact",e),n.ensureFlagExists("indentText",e),n.ensureFlagExists("indentCdata",e),n.ensureFlagExists("indentAttributes",e),n.ensureFlagExists("indentInstruction",e),n.ensureFlagExists("fullTagEmptyElement",e),n.ensureFlagExists("noQuotesForNativeAttributes",e),n.ensureSpacesExists(e),"number"==typeof e.spaces&&(e.spaces=Array(e.spaces+1).join(" ")),n.ensureKeyExists("declaration",e),n.ensureKeyExists("instruction",e),n.ensureKeyExists("attributes",e),n.ensureKeyExists("text",e),n.ensureKeyExists("comment",e),n.ensureKeyExists("cdata",e),n.ensureKeyExists("doctype",e),n.ensureKeyExists("type",e),n.ensureKeyExists("name",e),n.ensureKeyExists("elements",e),n.checkFnExists("doctype",e),n.checkFnExists("instruction",e),n.checkFnExists("cdata",e),n.checkFnExists("comment",e),n.checkFnExists("text",e),n.checkFnExists("instructionName",e),n.checkFnExists("elementName",e),n.checkFnExists("attributeName",e),n.checkFnExists("attributeValue",e),n.checkFnExists("attributes",e),n.checkFnExists("fullTagEmptyElement",e),e}(a);var i=[];return t=r,e="_root_",a.compact?i.push(g(r,a,0,!0)):(r[a.declarationKey]&&i.push(s(r[a.declarationKey],a,0)),r[a.elementsKey]&&r[a.elementsKey].length&&i.push(p(r[a.elementsKey],a,0,!i.length))),i.join("")}}var K=function(){if(b)return v;b=1;var t=w(),e=O(),n=S(),r=function(){if(T)return E;T=1;var t=S();return E=function(e,n){e instanceof Buffer&&(e=e.toString());var r=null;if("string"==typeof e)try{r=JSON.parse(e)}catch(a){throw new Error("The JSON structure is invalid")}else r=e;return t(r,n)}}();return v={xml2js:t,xml2json:e,js2xml:n,json2xml:r}}();const P={OWNER:"videos_by",TAGGED:"videos_of"},R={[P.OWNER]:{en:"ðŸ‘¤ Owner",vi:"ðŸ‘¤ ChÃ­nh chá»§"},[P.TAGGED]:{en:"ðŸ“Œ Tagged",vi:"ðŸ“Œ ÄÆ°á»£c tag"}};async function L({id:t="",cursor:r="",type:a=P.OWNER}){var s,o,u,l,c,d,p,m,f,g,y,h;const _=await i(t,a),E=[],T=await e({variables:{cursor:r,count:8,scale:1,id:_},doc_id:"3975496529227403"}),v=n(T),{edges:b=[],page_info:N={}}=(null==(o=null==(s=null==v?void 0:v.data)?void 0:s.node)?void 0:o.pageItems)||{};console.log("user video",v);for(const e of b){const t=(null==(l=null==(u=null==e?void 0:e.node)?void 0:u.node)?void 0:l.id)||"";E.push({id:t,created_time:0,description:null==(p=null==(d=null==(c=null==e?void 0:e.node)?void 0:c.node)?void 0:d.title)?void 0:p.text,length:null==(f=null==(m=null==e?void 0:e.node)?void 0:m.node)?void 0:f.playable_duration,url:null==(g=null==e?void 0:e.node)?void 0:g.url,source:"",picture:null==(h=null==(y=null==e?void 0:e.node)?void 0:y.image)?void 0:h.uri,cursor:(null==e?void 0:e.cursor)||""})}return{videos:E,nextCursor:null==N?void 0:N.end_cursor}}async function U({id:t="",cursor:r=""}){var a,i,s,o,u,l,c,d,p,m,f,g;const y=[],h=await e({fb_api_req_friendly_name:"GroupsCometVideosRootQueryContainerQuery",variables:{cursor:r,count:8,scale:2,groupID:t},doc_id:"6553573504724585"}),_=n(h),{edges:E=[],page_info:T={}}=(null==(s=null==(i=null==(a=null==_?void 0:_.data)?void 0:a.group)?void 0:i.group_mediaset)?void 0:s.media)||{};console.log("group video",_);for(const e of E){const t=(null==(o=null==e?void 0:e.node)?void 0:o.id)||"";y.push({id:t,created_time:0,description:null==(c=null==(l=null==(u=null==e?void 0:e.node)?void 0:u.creation_story)?void 0:l.message)?void 0:c.text,length:null==(p=null==(d=null==e?void 0:e.node)?void 0:d.node)?void 0:p.playable_duration,url:null==(m=null==e?void 0:e.node)?void 0:m.url,source:"",picture:null==(g=null==(f=null==e?void 0:e.node)?void 0:f.image)?void 0:g.uri,cursor:(null==e?void 0:e.cursor)||""})}return{videos:y,nextCursor:null==T?void 0:T.end_cursor}}async function B({pageId:t="",cursor:i=""}){var s,o,u;const l=[];if(!i){const a=await e({fb_api_req_friendly_name:"CometProfilePlusVideosRootQuery",variables:{feedbackSource:86,feedLocation:"PAGE_TIMELINE",focusCommentID:null,pageID:t,scale:8,shouldLoadAdminControls:!1,showReactions:!0,useDefaultActor:!1,__relay_internal__pv__FBReels_enable_view_dubbed_audio_type_gkrelayprovider:!1,__relay_internal__pv__CometUFICommentAvatarStickerAnimatedImagerelayprovider:!1,__relay_internal__pv__IsWorkUserrelayprovider:!1,__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider:!1,__relay_internal__pv__CometUFIShareActionMigrationrelayprovider:!0,__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider:!0,__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider:!0,__relay_internal__pv__CometUFI_dedicated_comment_routable_dialog_gkrelayprovider:!1},doc_id:"24463904313296103"}),c=n(a,[],!0),d=r(c,"all_videos");console.log("all_videos",d),null==(o=null==(s=null==d?void 0:d.edges)?void 0:s.forEach)||o.call(s,(t=>{l.push(k(t))})),console.log(l),i=(null==(u=null==l?void 0:l[(null==l?void 0:l.length)-1])?void 0:u.cursor)||null}const c=await e({fb_api_req_friendly_name:"PagesCometChannelTabAllVideosCardImplPaginationQuery",variables:{alwaysIncludeAudioRooms:!0,count:6,cursor:i,pageID:t,scale:8,showReactions:!0,useDefaultActor:!1,id:t},doc_id:"24834105299557313"}),d=n(c),{edges:p=[],page_info:m={}}=a(d);return null==p||p.forEach((t=>{l.push(k(t))})),console.log(l),{videos:l,nextCursor:null==m?void 0:m.end_cursor}}function k(t){var e,n,r,a,i,s,o,u,l,c,d,p,m;const f=null==(n=null==(e=null==t?void 0:t.node)?void 0:e.channel_tab_thumbnail_renderer)?void 0:n.video;return{id:null==f?void 0:f.id,recent:0,created_time:1e3*((null==f?void 0:f.publish_time)||0),description:null==(r=null==f?void 0:f.savable_title)?void 0:r.text,length:((null==(i=null==(a=null==f?void 0:f.video_thumbnail_overlays_renderer)?void 0:a.video)?void 0:i.playable_duration_in_ms)||0)/1e3,url:null==f?void 0:f.canonical_uri_with_fallback,source:null==f?void 0:f.source,picture:null==(s=null==f?void 0:f.image)?void 0:s.uri,cursor:null==t?void 0:t.cursor,post_id:(null==(o=null==f?void 0:f.container_story)?void 0:o.id)||(null==(u=null==f?void 0:f.creation_story)?void 0:u.id),statistics:{play_count:null==f?void 0:f.play_count,reaction_count:null==(c=null==(l=null==f?void 0:f.feedback)?void 0:l.reaction_count)?void 0:c.count,top_reactions:null==(m=null==(p=null==(d=null==f?void 0:f.feedback)?void 0:d.top_reactions)?void 0:p.edges)?void 0:m.map((t=>{var e,n;return{id:null==(e=null==t?void 0:t.node)?void 0:e.id,name:null==(n=null==t?void 0:t.node)?void 0:n.localized_name,count:(null==t?void 0:t.reaction_count)||0}}))}}}const V={};function G(t){var e,n;try{if(!t)return[];const a=K.xml2js(decodeURIComponent(t),{compact:!0});console.log("playlist",a);let i=r(a,"AdaptationSet",!1)||[];Array.isArray(i)||(i=[i]);return((null==(n=null==(e=null==i?void 0:i.flat())?void 0:e.map((t=>null==t?void 0:t.Representation)))?void 0:n.flat())||[]).map((t=>{var e,n,r,a;const i=null==t?void 0:t._attributes;return i?{id:i.id,codecs:i.codecs,mimeType:i.mimeType,isAudio:null==(e=i.mimeType)?void 0:e.startsWith("audio"),height:parseInt(i.height),width:parseInt(i.width),bandwidth:parseInt(i.bandwidth),qualityClass:i.FBQualityClass,qualityLabel:i.FBQualityLabel,source:null==(n=null==t?void 0:t.BaseURL)?void 0:n._text,length:parseInt(null==(a=null==(r=null==t?void 0:t.SegmentBase)?void 0:r._attributes)?void 0:a.timescale)}:null})).filter(Boolean)}catch(a){return console.log("extractVideoVariants error",a),[]}}function M(t){var e,n,r,a,i;try{return console.log("video info",t),{id:t.videoId||t.id,owner:(null==(e=t.owner)?void 0:e.id)||(null==(n=t.video_owner)?void 0:n.id),length:t.playable_duration_in_ms/1e3,url:t.url||t.permalink_url,width:t.original_width||t.width,height:t.original_height||t.height,source:t.browser_native_hd_url||t.playable_url_quality_hd||t.browser_native_sd_url||t.playable_url,quality:t.min_quality_preference,variants:G(t.playlist),created_time:(1e3*t.publish_time).toString(),thumbnail:(null==(r=t.image)?void 0:r.uri)||(null==(i=null==(a=t.preferred_thumbnail)?void 0:a.image)?void 0:i.uri)}}catch(s){return console.log("extractVideoInfo error",s),null}}async function j(t,r=!1){var a,i;if(!r&&(null==(a=V[t])?void 0:a.source))return V[t];const s=await e({fb_api_req_friendly_name:"CometTahoeRootQuery",variables:{caller:"TAHOE",chainingCursor:null,chainingSeedVideoId:null,channelEntryPoint:"TAHOE",channelID:"",feedbackSource:41,feedLocation:"TAHOE",focusCommentID:null,isCrawler:!1,privacySelectorRenderLocation:"COMET_STREAM",renderLocation:"video_channel",scale:1,streamChainingSection:!1,useDefaultActor:!1,videoChainingContext:null,videoID:t,__relay_internal__pv__CometUFIShareActionMigrationrelayprovider:!0,__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider:!1,__relay_internal__pv__StoriesLWRVariantrelayprovider:"www_new_reactions"},doc_id:"26374037368876407"}),o=n(s.split("\n")[0]),u=null==(i=null==o?void 0:o.data)?void 0:i.video;return console.log("video info",u),u&&(V[t]=M(u)),V[t]}export{P as VideoCollectionType,R as VideoCollectionTypeName,k as extractPageVideo,M as extractVideoInfo,G as extractVideoVariants,U as getGroupVideo,B as getPageVideo,L as getUserVideo,j as getVideoInfo};
