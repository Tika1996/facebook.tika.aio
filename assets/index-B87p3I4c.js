import{r as e,G as t,m as n,au as a,L as r,M as o,w as s,aj as l,aw as i,o as u,i as c,I as p,h as d,at as f,a6 as m,v,av as g,$ as b,b5 as y}from"./index-DZEcYG8Q.js";import{_ as x,$ as O,a0 as C,a1 as h,a2 as j}from"./MyApp-DRRa55Bd.js";import{I as E,u as w}from"./Input-LTpJ6AuY.js";import{R as $}from"./EyeOutlined-BBPXKIU8.js";import{R as k}from"./SearchOutlined-Bh66KhXc.js";const P=e=>{const{componentCls:t,paddingXS:n}=e;return{[t]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:n,[`${t}-input-wrapper`]:{position:"relative",[`${t}-mask-icon`]:{position:"absolute",zIndex:"1",top:"50%",right:"50%",transform:"translate(50%, -50%)",pointerEvents:"none"},[`${t}-mask-input`]:{color:"transparent",caretColor:"var(--ant-color-text)"},[`${t}-mask-input[type=number]::-webkit-inner-spin-button`]:{"-webkit-appearance":"none",margin:0},[`${t}-mask-input[type=number]`]:{"-moz-appearance":"textfield"}},"&-rtl":{direction:"rtl"},[`${t}-input`]:{textAlign:"center",paddingInline:e.paddingXXS},[`&${t}-sm ${t}-input`]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},[`&${t}-lg ${t}-input`]:{paddingInline:e.paddingXS}}}},I=r(["Input","OTP"],(e=>{const t=o(e,O(e));return[P(t)]}),C);const z=e.forwardRef(((a,r)=>{const{className:o,value:l,onChange:i,onActiveChange:u,index:c,mask:p}=a,d=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(a,["className","value","onChange","onActiveChange","index","mask"]),{getPrefixCls:f}=e.useContext(t),m=f("otp"),v="string"==typeof p?p:l,g=e.useRef(null);e.useImperativeHandle(r,(()=>g.current));const b=()=>{s((()=>{var e;const t=null===(e=g.current)||void 0===e?void 0:e.input;document.activeElement===t&&t&&t.select()}))};return e.createElement("span",{className:`${m}-input-wrapper`,role:"presentation"},p&&""!==l&&void 0!==l&&e.createElement("span",{className:`${m}-mask-icon`,"aria-hidden":"true"},v),e.createElement(E,Object.assign({"aria-label":`OTP Input ${c+1}`,type:!0===p?"password":"text"},d,{ref:g,value:l,onInput:e=>{i(c,e.target.value)},onFocus:b,onKeyDown:e=>{const{key:t,ctrlKey:n,metaKey:a}=e;"ArrowLeft"===t?u(c-1):"ArrowRight"===t?u(c+1):"z"===t&&(n||a)&&e.preventDefault(),b()},onKeyUp:e=>{"Backspace"!==e.key||l||u(c-1),b()},onMouseDown:b,onMouseUp:b,className:n(o,{[`${m}-mask-input`]:p})})))}));function S(e){return(e||"").split("")}const M=t=>{const{index:n,prefixCls:a,separator:r}=t,o="function"==typeof r?r(n):r;return o?e.createElement("span",{className:`${a}-separator`},o):null},N=e.forwardRef(((r,o)=>{const{prefixCls:s,length:p=6,size:d,defaultValue:f,value:m,onChange:v,formatter:g,separator:b,variant:y,disabled:x,status:O,autoFocus:C,mask:j,type:E,onInput:w,inputMode:$}=r,k=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(r,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:P,direction:N}=e.useContext(t),R=P("otp",s),A=l(k,{aria:!0,data:!0,attr:!0}),[L,B,D]=I(R),F=i((e=>null!=d?d:e)),T=e.useContext(a),X=h(T.status,O),q=e.useMemo((()=>Object.assign(Object.assign({},T),{status:X,hasFeedback:!1,feedbackIcon:null})),[T,X]),K=e.useRef(null),U=e.useRef({});e.useImperativeHandle(o,(()=>({focus:()=>{var e;null===(e=U.current[0])||void 0===e||e.focus()},blur:()=>{var e;for(let t=0;t<p;t+=1)null===(e=U.current[t])||void 0===e||e.blur()},nativeElement:K.current})));const V=e=>g?g(e):e,[_,G]=e.useState((()=>S(V(f||""))));e.useEffect((()=>{void 0!==m&&G(S(m))}),[m]);const Q=u((e=>{G(e),w&&w(e),v&&e.length===p&&e.every((e=>e))&&e.some(((e,t)=>_[t]!==e))&&v(e.join(""))})),H=u(((e,t)=>{let n=c(_);for(let r=0;r<e;r+=1)n[r]||(n[r]="");t.length<=1?n[e]=t:n=n.slice(0,e).concat(S(t)),n=n.slice(0,p);for(let r=n.length-1;r>=0&&!n[r];r-=1)n.pop();const a=V(n.map((e=>e||" ")).join(""));return n=S(a).map(((e,t)=>" "!==e||n[t]?e:n[t])),n})),W=(e,t)=>{var n;const a=H(e,t),r=Math.min(e+t.length,p-1);r!==e&&void 0!==a[e]&&(null===(n=U.current[r])||void 0===n||n.focus()),Q(a)},J=e=>{var t;null===(t=U.current[e])||void 0===t||t.focus()},Y={variant:y,disabled:x,status:X,mask:j,type:E,inputMode:$};return L(e.createElement("div",Object.assign({},A,{ref:K,className:n(R,{[`${R}-sm`]:"small"===F,[`${R}-lg`]:"large"===F,[`${R}-rtl`]:"rtl"===N},D,B),role:"group"}),e.createElement(a.Provider,{value:q},Array.from({length:p}).map(((t,n)=>{const a=`otp-${n}`,r=_[n]||"";return e.createElement(e.Fragment,{key:a},e.createElement(z,Object.assign({ref:e=>{U.current[n]=e},index:n,size:F,htmlSize:1,className:`${R}-input`,onChange:W,value:r,onActiveChange:J,autoFocus:0===n&&C},Y)),n<p-1&&e.createElement(M,{separator:b,index:n,prefixCls:R}))})))))}));var R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},A=function(t,n){return e.createElement(p,d({},t,{ref:n,icon:R}))},L=e.forwardRef(A);const B=t=>t?e.createElement($,null):e.createElement(L,null),D={click:"onClick",hover:"onMouseOver"},F=e.forwardRef(((a,r)=>{const{disabled:o,action:s="click",visibilityToggle:l=!0,iconRender:i=B}=a,u=e.useContext(f),c=null!=o?o:u,p="object"==typeof l&&void 0!==l.visible,[d,g]=e.useState((()=>!!p&&l.visible)),b=e.useRef(null);e.useEffect((()=>{p&&g(l.visible)}),[p,l]);const y=w(b),x=()=>{var e;if(c)return;d&&y();const t=!d;g(t),"object"==typeof l&&(null===(e=l.onVisibleChange)||void 0===e||e.call(l,t))},{className:O,prefixCls:C,inputPrefixCls:h,size:j}=a,$=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(a,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:k}=e.useContext(t),P=k("input",h),I=k("input-password",C),z=l&&(t=>{const n=D[s]||"",a=i(d),r={[n]:x,className:`${t}-icon`,key:"passwordIcon",onMouseDown:e=>{e.preventDefault()},onMouseUp:e=>{e.preventDefault()}};return e.cloneElement(e.isValidElement(a)?a:e.createElement("span",null,a),r)})(I),S=n(I,O,{[`${I}-${j}`]:!!j}),M=Object.assign(Object.assign({},m($,["suffix","iconRender","visibilityToggle"])),{type:d?"text":"password",className:S,prefixCls:P,suffix:z});return j&&(M.size=j),e.createElement(E,Object.assign({ref:v(r,b)},M))}));const T=e.forwardRef(((a,r)=>{const{prefixCls:o,inputPrefixCls:s,className:l,size:u,suffix:c,enterButton:p=!1,addonAfter:d,loading:f,disabled:m,onSearch:x,onChange:O,onCompositionStart:C,onCompositionEnd:h,variant:j,onPressEnter:w}=a,$=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(a,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd","variant","onPressEnter"]),{getPrefixCls:P,direction:I}=e.useContext(t),z=e.useRef(!1),S=P("input-search",o),M=P("input",s),{compactSize:N}=g(S,I),R=i((e=>{var t;return null!==(t=null!=u?u:N)&&void 0!==t?t:e})),A=e.useRef(null),L=e=>{var t;document.activeElement===(null===(t=A.current)||void 0===t?void 0:t.input)&&e.preventDefault()},B=e=>{var t,n;x&&x(null===(n=null===(t=A.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e,{source:"input"})},D="boolean"==typeof p?e.createElement(k,null):null,F=`${S}-button`;let T;const X=p||{},q=X.type&&!0===X.type.__ANT_BUTTON;T=q||"button"===X.type?b(X,Object.assign({onMouseDown:L,onClick:e=>{var t,n;null===(n=null===(t=null==X?void 0:X.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),B(e)},key:"enterButton"},q?{className:F,size:R}:{})):e.createElement(y,{className:F,color:p?"primary":"default",size:R,disabled:m,key:"enterButton",onMouseDown:L,onClick:B,loading:f,icon:D,variant:"borderless"===j||"filled"===j||"underlined"===j?"text":p?"solid":void 0},p),d&&(T=[T,b(d,{key:"addonAfter"})]);const K=n(S,{[`${S}-rtl`]:"rtl"===I,[`${S}-${R}`]:!!R,[`${S}-with-button`]:!!p},l),U=Object.assign(Object.assign({},$),{className:K,prefixCls:M,type:"search",size:R,variant:j,onPressEnter:e=>{z.current||f||(null==w||w(e),B(e))},onCompositionStart:e=>{z.current=!0,null==C||C(e)},onCompositionEnd:e=>{z.current=!1,null==h||h(e)},addonAfter:T,suffix:c,onChange:e=>{(null==e?void 0:e.target)&&"click"===e.type&&x&&x(e.target.value,e,{source:"clear"}),null==O||O(e)},disabled:m});return e.createElement(E,Object.assign({ref:v(A,r)},U))})),X=E;X.Group=r=>{const{getPrefixCls:o,direction:s}=e.useContext(t),{prefixCls:l,className:i}=r,u=o("input-group",l),c=o("input"),[p,d,f]=x(c),m=n(u,f,{[`${u}-lg`]:"large"===r.size,[`${u}-sm`]:"small"===r.size,[`${u}-compact`]:r.compact,[`${u}-rtl`]:"rtl"===s},d,i),v=e.useContext(a),g=e.useMemo((()=>Object.assign(Object.assign({},v),{isFormItemInput:!1})),[v]);return p(e.createElement("span",{className:m,style:r.style,onMouseEnter:r.onMouseEnter,onMouseLeave:r.onMouseLeave,onFocus:r.onFocus,onBlur:r.onBlur},e.createElement(a.Provider,{value:g},r.children)))},X.Search=T,X.TextArea=j,X.Password=F,X.OTP=N;export{X as I};
