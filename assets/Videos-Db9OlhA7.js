const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./VideoViewer-C2qoCs6p.js","./index-DZEcYG8Q.js","./index-C6k8ZUm0.css","./videos-DtjqJObU.js","./___vite-browser-external_commonjs-proxy-D5wFEbJ4.js","./MyApp-DRRa55Bd.js"])))=>i.map(i=>d[i]);
import{r as e,b1 as t,b2 as i,b5 as s,aY as o}from"./index-DZEcYG8Q.js";import{u as r,z as a,B as l,aW as n,S as d,h as m,g as p,e as c,I as u}from"./MyApp-DRRa55Bd.js";import j from"./Collection-DTYRwOd8.js";import{VideoCollectionType as x,getPageVideo as h,getGroupVideo as v,getUserVideo as f,getVideoInfo as b,VideoCollectionTypeName as g}from"./videos-DtjqJObU.js";import{L as y}from"./index-CG5dclLJ.js";import{I as w}from"./index-BE0FsmaM.js";import{S as _}from"./index-D9U4WvIE.js";import"./index-BA5m7QhG.js";import"./useCacheState-D4ghBCVU.js";import"./react-hotkeys-hook.esm-D8zm19cE.js";import"./index-C0Edlh-n.js";import"./index-BQAhaSn9.js";import"./index-CEGXIRel.js";import"./index-KPoWFIyW.js";import"./dropdown-BoVCRztz.js";import"./Dropdown-BgvXKd3u.js";import"./PurePanel-Beni9Vkb.js";import"./move-Bzyc79vL.js";import"./index-B87p3I4c.js";import"./Input-LTpJ6AuY.js";import"./EyeOutlined-BBPXKIU8.js";import"./SearchOutlined-Bh66KhXc.js";import"./row-BgRGnxnv.js";import"./useBreakpoint-HjQEkdEA.js";import"./index-DHhmxYJT.js";import"./List-BPJoeCz4.js";import"./index-CvALG2oX.js";import"./DownOutlined-BrkIPj-I.js";import"./Pagination-Dv2YSLQ3.js";import"./col-DLTiGXF3.js";import"./___vite-browser-external_commonjs-proxy-D5wFEbJ4.js";import"./addEventListener-C9VBchln.js";const k=i((()=>o((()=>import("./VideoViewer-C2qoCs6p.js")),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),{fallback:u});function N({target:i}){const{ti:o}=r(),[u,N]=e.useState(x.OWNER);e.useEffect((()=>{(null==i?void 0:i.id)&&N(x.OWNER)}),[null==i?void 0:i.id]);const I=e.useCallback((async(e=[],t)=>{var s;if(!(null==i?void 0:i.id)||!(null==i?void 0:i.type))return;t=t||(null==(s=null==e?void 0:e[(null==e?void 0:e.length)-1])?void 0:s.cursor)||"";return((null==i?void 0:i.delegate_page_id)?await h({pageId:null==i?void 0:i.delegate_page_id,cursor:t}):(null==i?void 0:i.type)===a.Group?await v({id:null==i?void 0:i.id,cursor:t}):await f({id:null==i?void 0:i.id,cursor:t,type:u})).videos}),[i,u]),O=e.useCallback((async e=>{if(e){if(!e.source){const t=await b(e.id);e.source=t.source}return{url:e.source,name:e.id+".mp4"}}}),[]),C=e.useCallback((e=>t.jsx(y.Item,{className:"show-on-hover-trigger",children:t.jsx(l.Ribbon,{text:e.length?n(e.length):null,style:{opacity:e.length?1:0},children:t.jsxs(d,{direction:"vertical",children:[t.jsxs("div",{style:{position:"relative"},children:[t.jsx(w,{src:e.picture,width:200,height:200,style:{objectFit:"cover",borderRadius:10},preview:{destroyOnHidden:!0,imageRender:()=>t.jsx(k,{info:e,style:{maxWidth:"90vw",maxHeight:"90vh"}}),toolbarRender:()=>null}}),t.jsx(s,{type:"default",icon:t.jsx("i",{className:"fa-solid fa-up-right-from-square"}),style:{position:"absolute",bottom:10,right:10},className:"show-on-hover-item",target:"_blank",href:m(e.id)}),e.statistics&&t.jsxs("div",{style:{position:"absolute",bottom:10,left:10,pointerEvents:"none",color:"#fff"},children:[t.jsx("i",{className:"fa fa-play"})," ",p(e.statistics.play_count),t.jsx("br",{}),t.jsx("i",{className:"fa fa-thumbs-up"})," ",p(e.statistics.reaction_count),e.created_time&&t.jsxs(t.Fragment,{children:[t.jsx("br",{}),t.jsx("i",{className:"fa fa-clock"})," ",c(e.created_time)]})]})]}),e.description&&t.jsx("div",{style:{width:200,maxHeight:150,overflowY:"auto"},children:e.description})]})})})),[]),E=e.useCallback(((e,s)=>(null==i?void 0:i.type)!==a.Group&&t.jsx(_,{disabled:s,value:u,onChange:N,popupMatchSelectWidth:!1,options:Object.entries(g).map((([e,t])=>({label:o(t),value:e})))})),[u,o]);return t.jsx(j,{collectionName:(null==i?void 0:i.name)+" - Videos - "+o(g[u]),fetchNext:I,renderItem:C,downloadItem:O,getItemCursor:e=>e.cursor,rowKey:e=>e.id,headerButtons:E})}export{N as default};
