import{r as e,l as t,n,U as a,i as r,R as s,h as o,m as l,d as u,a4 as c,a6 as i,S as f,af as p,av as m,aw as d,at as v,au as g,v as x,W as C}from"./index-DZEcYG8Q.js";import{a6 as y,a7 as w,a8 as b,a9 as h,aa as E,_ as N,ab as O,ac as S,ad as $,a1 as j}from"./MyApp-DRRa55Bd.js";var F=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],R=e.forwardRef((function(f,p){var m=f.autoComplete,d=f.onChange,v=f.onFocus,g=f.onBlur,x=f.onPressEnter,C=f.onKeyDown,E=f.onKeyUp,N=f.prefixCls,O=void 0===N?"rc-input":N,S=f.disabled,$=f.htmlSize,j=f.className,R=f.maxLength,B=f.suffix,A=f.showCount,z=f.count,P=f.type,K=void 0===P?"text":P,I=f.classes,k=f.classNames,U=f.styles,D=f.onCompositionStart,L=f.onCompositionEnd,T=t(f,F),W=e.useState(!1),V=n(W,2),H=V[0],M=V[1],_=e.useRef(!1),q=e.useRef(!1),G=e.useRef(null),J=e.useRef(null),Q=function(e){G.current&&b(G.current,e)},X=a(f.defaultValue,{value:f.value}),Y=n(X,2),Z=Y[0],ee=Y[1],te=null==Z?"":String(Z),ne=e.useState(null),ae=n(ne,2),re=ae[0],se=ae[1],oe=y(z,A),le=oe.max||R,ue=oe.strategy(te),ce=!!le&&ue>le;e.useImperativeHandle(p,(function(){var e;return{focus:Q,blur:function(){var e;null===(e=G.current)||void 0===e||e.blur()},setSelectionRange:function(e,t,n){var a;null===(a=G.current)||void 0===a||a.setSelectionRange(e,t,n)},select:function(){var e;null===(e=G.current)||void 0===e||e.select()},input:G.current,nativeElement:(null===(e=J.current)||void 0===e?void 0:e.nativeElement)||G.current}})),e.useEffect((function(){q.current&&(q.current=!1),M((function(e){return(!e||!S)&&e}))}),[S]);var ie=function(e,t,n){var a,r,s=t;if(!_.current&&oe.exceedFormatter&&oe.max&&oe.strategy(t)>oe.max)t!==(s=oe.exceedFormatter(t,{max:oe.max}))&&se([(null===(a=G.current)||void 0===a?void 0:a.selectionStart)||0,(null===(r=G.current)||void 0===r?void 0:r.selectionEnd)||0]);else if("compositionEnd"===n.source)return;ee(s),G.current&&h(G.current,e,d,s)};e.useEffect((function(){var e;re&&(null===(e=G.current)||void 0===e||e.setSelectionRange.apply(e,r(re)))}),[re]);var fe,pe=function(e){ie(e,e.target.value,{source:"change"})},me=function(e){_.current=!1,ie(e,e.currentTarget.value,{source:"compositionEnd"}),null==L||L(e)},de=function(e){x&&"Enter"===e.key&&!q.current&&(q.current=!0,x(e)),null==C||C(e)},ve=function(e){"Enter"===e.key&&(q.current=!1),null==E||E(e)},ge=function(e){M(!0),null==v||v(e)},xe=function(e){q.current&&(q.current=!1),M(!1),null==g||g(e)},Ce=ce&&"".concat(O,"-out-of-range");return s.createElement(w,o({},T,{prefixCls:O,className:l(j,Ce),handleReset:function(e){ee(""),Q(),G.current&&h(G.current,e,d)},value:te,focused:H,triggerFocus:Q,suffix:function(){var e=Number(le)>0;if(B||oe.show){var t=oe.showFormatter?oe.showFormatter({value:te,count:ue,maxLength:le}):"".concat(ue).concat(e?" / ".concat(le):"");return s.createElement(s.Fragment,null,oe.show&&s.createElement("span",{className:l("".concat(O,"-show-count-suffix"),c({},"".concat(O,"-show-count-has-suffix"),!!B),null==k?void 0:k.count),style:u({},null==U?void 0:U.count)},t),B)}return null}(),disabled:S,classes:I,classNames:k,styles:U,ref:J}),(fe=i(f,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]),s.createElement("input",o({autoComplete:m},fe,{onChange:pe,onFocus:ge,onBlur:xe,onKeyDown:de,onKeyUp:ve,className:l(O,c({},"".concat(O,"-disabled"),S),null==k?void 0:k.input),style:null==U?void 0:U.input,ref:G,size:$,type:K,onCompositionStart:function(e){_.current=!0,null==D||D(e)},onCompositionEnd:me}))))}));function B(t,n){const a=e.useRef([]),r=()=>{a.current.push(setTimeout((()=>{var e,n,a,r;(null===(e=t.current)||void 0===e?void 0:e.input)&&"password"===(null===(n=t.current)||void 0===n?void 0:n.input.getAttribute("type"))&&(null===(a=t.current)||void 0===a?void 0:a.input.hasAttribute("value"))&&(null===(r=t.current)||void 0===r||r.input.removeAttribute("value"))})))};return e.useEffect((()=>(n&&r(),()=>a.current.forEach((e=>{e&&clearTimeout(e)})))),[]),r}const A=e.forwardRef(((t,n)=>{const{prefixCls:a,bordered:r=!0,status:o,size:u,disabled:c,onBlur:i,onFocus:y,suffix:w,allowClear:b,addonAfter:h,addonBefore:F,className:A,style:z,styles:P,rootClassName:K,onChange:I,classNames:k,variant:U}=t,D=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(t,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:L,direction:T,allowClear:W,autoComplete:V,className:H,style:M,classNames:_,styles:q}=f("input"),G=L("input",a),J=e.useRef(null),Q=p(G),[X,Y,Z]=E(G,K),[ee]=N(G,Q),{compactSize:te,compactItemClassnames:ne}=m(G,T),ae=d((e=>{var t;return null!==(t=null!=u?u:te)&&void 0!==t?t:e})),re=s.useContext(v),se=null!=c?c:re,{status:oe,hasFeedback:le,feedbackIcon:ue}=e.useContext(g),ce=j(oe,o),ie=function(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}(t)||!!le;e.useRef(ie);const fe=B(J,!0),pe=(le||w)&&s.createElement(s.Fragment,null,w,le&&ue),me=O(null!=b?b:W),[de,ve]=S("input",U,r);return X(ee(s.createElement(R,Object.assign({ref:x(n,J),prefixCls:G,autoComplete:V},D,{disabled:se,onBlur:e=>{fe(),null==i||i(e)},onFocus:e=>{fe(),null==y||y(e)},style:Object.assign(Object.assign({},M),z),styles:Object.assign(Object.assign({},q),P),suffix:pe,allowClear:me,className:l(A,K,Z,Q,ne,H),onChange:e=>{fe(),null==I||I(e)},addonBefore:F&&s.createElement(C,{form:!0,space:!0},F),addonAfter:h&&s.createElement(C,{form:!0,space:!0},h),classNames:Object.assign(Object.assign(Object.assign({},k),_),{input:l({[`${G}-sm`]:"small"===ae,[`${G}-lg`]:"large"===ae,[`${G}-rtl`]:"rtl"===T},null==k?void 0:k.input,_.input,Y),variant:l({[`${G}-${de}`]:ve},$(G,ce)),affixWrapper:l({[`${G}-affix-wrapper-sm`]:"small"===ae,[`${G}-affix-wrapper-lg`]:"large"===ae,[`${G}-affix-wrapper-rtl`]:"rtl"===T},Y),wrapper:l({[`${G}-group-rtl`]:"rtl"===T},Y),groupWrapper:l({[`${G}-group-wrapper-sm`]:"small"===ae,[`${G}-group-wrapper-lg`]:"large"===ae,[`${G}-group-wrapper-rtl`]:"rtl"===T,[`${G}-group-wrapper-${de}`]:ve},$(`${G}-group-wrapper`,ce,le),Y)})}))))}));export{A as I,B as u};
