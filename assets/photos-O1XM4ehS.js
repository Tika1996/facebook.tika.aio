import{y as e,x as o,X as i,aA as l,az as n}from"./MyApp-DRRa55Bd.js";import"./index-DZEcYG8Q.js";var a=(e=>(e.OWNER="photos_by",e.TAGGED="photos_of",e))(a||{});const t={photos_by:{en:"👤 Owner",vi:"👤 Chính chủ"},photos_of:{en:"📌 Tagged",vi:"📌 Được tag"}};async function r({id:i,count:a=8,cursor:t="",type:r="photos_by"}){const d=await l(i,r),_=await e({doc_id:"4820192058049838",fb_api_caller_class:"RelayModern",fb_api_req_friendly_name:"ProfileCometAppCollectionPhotosRendererPaginationQuery",variables:{count:a,cursor:t,scale:1,id:d}});let u=o(_),{edges:s=[],page_info:v}=n(u)||{};return s.map((e=>{var o,i,l,n,a,t,d,_,u,s,v,c,m,p,y;return{id:atob(null==(o=null==e?void 0:e.node)?void 0:o.id).split(":").pop(),url:null==(i=null==e?void 0:e.node)?void 0:i.url,thumbnail:null==(n=null==(l=null==e?void 0:e.node)?void 0:l.image)?void 0:n.uri,image:null==(d=null==(t=null==(a=null==e?void 0:e.node)?void 0:a.node)?void 0:t.viewer_image)?void 0:d.uri,width:null==(s=null==(u=null==(_=null==e?void 0:e.node)?void 0:_.node)?void 0:u.viewer_image)?void 0:s.width,height:null==(m=null==(c=null==(v=null==e?void 0:e.node)?void 0:v.node)?void 0:c.viewer_image)?void 0:m.height,accessibility_caption:null==(y=null==(p=null==e?void 0:e.node)?void 0:p.node)?void 0:y.accessibility_caption,cursor:null==e?void 0:e.cursor,photo_type:r}}))}async function d({id:i,count:l=8,cursor:n=""}){var a,t,r;const d=await e({doc_id:"6022153214500431",fb_api_caller_class:"RelayModern",fb_api_req_friendly_name:"GroupsCometMediaPhotosTabGridQuery",variables:{count:l,cursor:n,scale:2,id:i}}),_=o(d);console.log(_);const{edges:u=[],page_info:s}=(null==(r=null==(t=null==(a=null==_?void 0:_.data)?void 0:a.node)?void 0:t.group_mediaset)?void 0:r.media)||{};return u.map((e=>{var o,i,l,n,a,t,r,d,_,u,s;return{id:null==(o=null==e?void 0:e.node)?void 0:o.id,url:null==(i=null==e?void 0:e.node)?void 0:i.url,thumbnail:null==(n=null==(l=null==e?void 0:e.node)?void 0:l.image)?void 0:n.uri,image:null==(t=null==(a=null==e?void 0:e.node)?void 0:a.viewer_image)?void 0:t.uri,width:null==(d=null==(r=null==e?void 0:e.node)?void 0:r.viewer_image)?void 0:d.width,height:null==(u=null==(_=null==e?void 0:e.node)?void 0:_.viewer_image)?void 0:u.height,accessibility_caption:null==(s=null==e?void 0:e.node)?void 0:s.accessibility_caption,cursor:null==e?void 0:e.cursor}}))}async function _(i){var l,n,a,t,r,d,_;const u=await e({fb_api_req_friendly_name:"CometPhotoRootContentQuery",variables:{UFI2CommentsProvider_commentsKey:"CometPhotoRootQuery",feedbackSource:65,feedLocation:"COMET_MEDIA_VIEWER",isMediaset:!1,nodeID:i,privacySelectorRenderLocation:"COMET_MEDIA_VIEWER",renderLocation:"permalink",scale:2,useDefaultActor:!1,useHScroll:!1,focusCommentID:null,displayCommentsContextEnableComment:null,displayCommentsContextIsAdPreview:null,displayCommentsContextIsAggregatedShare:null,displayCommentsContextIsStorySet:null,displayCommentsFeedbackContext:null,__relay_internal__pv__CometUFIReactionEnableShortNamerelayprovider:!0,__relay_internal__pv__CometUFIShareActionMigrationrelayprovider:!1,__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider:!1,__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider:!1},doc_id:"7830475950340566"}),s=o((null==(l=null==u?void 0:u.split("\n"))?void 0:l[0])||"{}"),v=(null==(n=null==s?void 0:s.data)?void 0:n.currMedia)||{};return{id:i,url:null==(a=v.creation_story)?void 0:a.url,accessibility_caption:v.accessibility_caption,image:null==(t=v.image)?void 0:t.uri,width:null==(r=v.image)?void 0:r.width,height:null==(d=v.image)?void 0:d.height,thumbnail:null==(_=v.image)?void 0:_.uri}}async function u(i,l){const n=await e({fb_api_req_friendly_name:"CometPhotoRootContentQuery",variables:{isMediaset:!0,renderLocation:"comet_media_viewer",nodeID:i,mediasetToken:l,scale:2,feedLocation:"COMET_MEDIA_VIEWER",feedbackSource:65,focusCommentID:null,glbFileURIHackToRenderAs3D_DO_NOT_USE:null,privacySelectorRenderLocation:"COMET_MEDIA_VIEWER",useDefaultActor:!1,shouldShowComments:!0,__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider:!0,__relay_internal__pv__CometUFIShareActionMigrationrelayprovider:!0,__relay_internal__pv__IsWorkUserrelayprovider:!1,__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider:!1,__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider:!1},doc_id:"29711186038527111"}),a=o(n,[],!0);return console.log(a),a}async function s(l){const n=await e({fb_api_req_friendly_name:"CometPhotoTagLayerQuery",variables:{nodeID:l,scale:2},doc_id:"9999655556759066"}),a=o(n,[],!0);console.log(a);const t=i(a,"data.image"),r=i(a,"data.container_story"),d=i(a,"data.owner");return{id:l,width:null==t?void 0:t.width,height:null==t?void 0:t.height,post:{id:null==r?void 0:r.id,post_id:null==r?void 0:r.post_id},owner:{type:null==d?void 0:d.__typename,id:null==d?void 0:d.id}}}export{a as PhotoCollectionType,t as PhotoCollectionTypeLang,s as getBasicPhotoInfo,d as getGroupPhotos,_ as getLargestPhoto,u as getPhotoInfo,r as getUserPhotos};
