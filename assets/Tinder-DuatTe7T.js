const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./VideoWithMuted-BryCN2DG.js","./index-DZEcYG8Q.js","./index-C6k8ZUm0.css","./AudioWithMuted-Dy8408YA.js"])))=>i.map(i=>d[i]);
import{c9 as s,ca as e,cb as o,cc as i,aJ as t,r,aY as n,bi as a,b1 as l,cd as m,b5 as d,bg as _,b2 as u}from"./index-DZEcYG8Q.js";import{S as j}from"./Screen-1_H4V3tg.js";import c from"./useCacheState-D4ghBCVU.js";import{s as p}from"./shuffle-Eec_FHoP.js";import{d as h,u as g,t as E,S as f,ah as x,B as v,c as T,b as y,I as P}from"./MyApp-DRRa55Bd.js";import L from"./Collection-DTYRwOd8.js";import{S as I}from"./index-D9U4WvIE.js";import{D as O}from"./index-DHhmxYJT.js";import{E as A}from"./index-CvALG2oX.js";import{I as R}from"./index-BE0FsmaM.js";import"./col-DLTiGXF3.js";import"./row-BgRGnxnv.js";import"./useBreakpoint-HjQEkdEA.js";import"./_copyArray-_bDJu6nu.js";import"./index-BA5m7QhG.js";import"./react-hotkeys-hook.esm-D8zm19cE.js";import"./index-C0Edlh-n.js";import"./index-BQAhaSn9.js";import"./index-CEGXIRel.js";import"./index-KPoWFIyW.js";import"./dropdown-BoVCRztz.js";import"./Dropdown-BgvXKd3u.js";import"./PurePanel-Beni9Vkb.js";import"./move-Bzyc79vL.js";import"./index-B87p3I4c.js";import"./Input-LTpJ6AuY.js";import"./EyeOutlined-BBPXKIU8.js";import"./SearchOutlined-Bh66KhXc.js";import"./index-CG5dclLJ.js";import"./Pagination-Dv2YSLQ3.js";import"./List-BPJoeCz4.js";import"./DownOutlined-BrkIPj-I.js";import"./addEventListener-C9VBchln.js";var D,V,k,b,w,M,N,S,C,F,z,H,W,$,q,B,K,G,U,J;function Q(){if(S)return N;S=1;var s=V?D:(V=1,D=function(s,e,o,i){for(var t=s.length,r=o+(i?1:-1);i?r--:++r<t;)if(e(s[r],r,s))return r;return-1}),e=b?k:(b=1,k=function(s){return s!=s}),o=M?w:(M=1,w=function(s,e,o){for(var i=o-1,t=s.length;++i<t;)if(s[i]===e)return i;return-1});return N=function(i,t,r){return t==t?o(i,t,r):s(i,e,r)}}function Y(){if(B)return q;B=1;var o=s(),i=$?W:($=1,W=function(){}),t=e(),r=o&&1/t(new o([,-0]))[1]==1/0?function(s){return new o(s)}:i;return q=r}function X(){if(G)return K;G=1;var s=o(),t=function(){if(F)return C;F=1;var s=Q();return C=function(e,o){return!(null==e||!e.length)&&s(e,o,0)>-1}}(),r=H?z:(H=1,z=function(s,e,o){for(var i=-1,t=null==s?0:s.length;++i<t;)if(o(e,s[i]))return!0;return!1}),n=i(),a=Y(),l=e();return K=function(e,o,i){var m=-1,d=t,_=e.length,u=!0,j=[],c=j;if(i)u=!1,d=r;else if(_>=200){var p=o?null:a(e);if(p)return l(p);u=!1,d=n,c=new s}else c=o?[]:j;s:for(;++m<_;){var h=e[m],g=o?o(h):h;if(h=i||0!==h?h:0,u&&g==g){for(var E=c.length;E--;)if(c[E]===g)continue s;o&&c.push(g),j.push(h)}else d(c,g,i)||(c!==j&&c.push(g),j.push(h))}return j}}const Z=t(function(){if(J)return U;J=1;var s=X();return U=function(e){return e&&e.length?s(e):[]}}()),ss=u((()=>n((()=>import("./VideoWithMuted-BryCN2DG.js")),__vite__mapDeps([0,1,2]),import.meta.url)),{fallback:P}),es=u((()=>n((()=>import("./AudioWithMuted-Dy8408YA.js")),__vite__mapDeps([3,1,2]),import.meta.url)),{fallback:P}),os=["artstation","girl","girls","girlSexy","anime","meme","cosplay","waifu","lolii","phongcanh","wibu","ausand","ig","gaiIG","naughty","gentle","du","donate","vdchill","xoa","spar","hug","creepy","vddoraemon","puch","kiss","slap","vdtet","domixi","cosplaygenshin","itachi","jimmy","vdgai","linhngocdam","autosend","jack3cu","gura","videochill","APIsKem","saumui","couple","khanhhuyen","lebong","videogaixinh","vdanime","ngoctrinh","man","chitanda","nhacmp3"];function is(){var s,e;const{message:o}=h(),{ti:i}=g(),[t,u]=c("TinderNew.category",os[0],!0),[P,R]=c("TinderNew.mediaStacks",{}),[D,V]=c("Tinder.count",{skip:0,like:0},!0),[k,b]=c("Tinder.lovedUrls",[],!0),[w,M]=r.useState(!1),[N,S]=r.useState(new Set);r.useEffect((()=>{E("Tinder.onLoad")}),[]),r.useEffect((()=>{P[t]||(M(!0),((s,e,o)=>{const i=s[e];return i?"function"==typeof i?i():Promise.resolve(i):new Promise(((s,i)=>{("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==o?". Note that variables only represent file names one level deep.":""))))}))})(Object.assign({"../../assets/json/img/APIsKem.json":()=>n((()=>import("./APIsKem-DFAVi_5O.js")),[],import.meta.url),"../../assets/json/img/anime.json":()=>n((()=>import("./anime-DM8wUqSD.js")),[],import.meta.url),"../../assets/json/img/artstation.json":()=>n((()=>import("./artstation-MjJCVLdZ.js")),[],import.meta.url),"../../assets/json/img/ausand.json":()=>n((()=>import("./ausand-BnVZRE9R.js")),[],import.meta.url),"../../assets/json/img/autosend.json":()=>n((()=>import("./autosend-C98BDuJg.js")),[],import.meta.url),"../../assets/json/img/chitanda.json":()=>n((()=>import("./chitanda-C4VBzwhJ.js")),[],import.meta.url),"../../assets/json/img/cosplay.json":()=>n((()=>import("./cosplay-DujLTsCz.js")),[],import.meta.url),"../../assets/json/img/cosplaygenshin.json":()=>n((()=>import("./cosplaygenshin-Ca4p8Ake.js")),[],import.meta.url),"../../assets/json/img/couple.json":()=>n((()=>import("./couple-BxOM_kSh.js")),[],import.meta.url),"../../assets/json/img/creepy.json":()=>n((()=>import("./creepy-Ds19T0ez.js")),[],import.meta.url),"../../assets/json/img/domixi.json":()=>n((()=>import("./domixi-CDmSaTWS.js")),[],import.meta.url),"../../assets/json/img/donate.json":()=>n((()=>import("./donate-DHyNNudV.js")),[],import.meta.url),"../../assets/json/img/du.json":()=>n((()=>import("./du-DUAy_v35.js")),[],import.meta.url),"../../assets/json/img/gaiIG.json":()=>n((()=>import("./gaiIG-CeCsJgRZ.js")),[],import.meta.url),"../../assets/json/img/gentle.json":()=>n((()=>import("./gentle-R-s-WnGS.js")),[],import.meta.url),"../../assets/json/img/girl.json":()=>n((()=>import("./girl-AEcjtsCD.js")),[],import.meta.url),"../../assets/json/img/girlSexy.json":()=>n((()=>import("./girlSexy-DFAjvpkD.js")),[],import.meta.url),"../../assets/json/img/girls.json":()=>n((()=>import("./girls-2INL9jyL.js")),[],import.meta.url),"../../assets/json/img/gura.json":()=>n((()=>import("./gura-DWWyYfb2.js")),[],import.meta.url),"../../assets/json/img/help.json":()=>n((()=>import("./help-C1oz5beS.js")),[],import.meta.url),"../../assets/json/img/hug.json":()=>n((()=>import("./hug-CD6hRunE.js")),[],import.meta.url),"../../assets/json/img/ig.json":()=>n((()=>import("./ig-CeCsJgRZ.js")),[],import.meta.url),"../../assets/json/img/itachi.json":()=>n((()=>import("./itachi-SaAfTYc6.js")),[],import.meta.url),"../../assets/json/img/jack3cu.json":()=>n((()=>import("./jack3cu-D8WUrHoa.js")),[],import.meta.url),"../../assets/json/img/jimmy.json":()=>n((()=>import("./jimmy-fBcePqWQ.js")),[],import.meta.url),"../../assets/json/img/khanhhuyen.json":()=>n((()=>import("./khanhhuyen-CloNkM9d.js")),[],import.meta.url),"../../assets/json/img/kiss.json":()=>n((()=>import("./kiss-DRx_mTbM.js")),[],import.meta.url),"../../assets/json/img/lebong.json":()=>n((()=>import("./lebong-Bd_6j0b3.js")),[],import.meta.url),"../../assets/json/img/linhngocdam.json":()=>n((()=>import("./linhngocdam-DCMMjih6.js")),[],import.meta.url),"../../assets/json/img/lolii.json":()=>n((()=>import("./lolii-tiadadMi.js")),[],import.meta.url),"../../assets/json/img/man.json":()=>n((()=>import("./man-DDM6aXCQ.js")),[],import.meta.url),"../../assets/json/img/meme.json":()=>n((()=>import("./meme-BYrSPw85.js")),[],import.meta.url),"../../assets/json/img/naughty.json":()=>n((()=>import("./naughty-D8pkLkiX.js")),[],import.meta.url),"../../assets/json/img/ngoctrinh.json":()=>n((()=>import("./ngoctrinh-BgYDOZu0.js")),[],import.meta.url),"../../assets/json/img/nhacmp3.json":()=>n((()=>import("./nhacmp3-BQvD_Mro.js")),[],import.meta.url),"../../assets/json/img/nude.json":()=>n((()=>import("./nude-CBT8PlrJ.js")),[],import.meta.url),"../../assets/json/img/phongcanh.json":()=>n((()=>import("./phongcanh-BqlBA_Kk.js")),[],import.meta.url),"../../assets/json/img/puch.json":()=>n((()=>import("./puch-CDPKKJC1.js")),[],import.meta.url),"../../assets/json/img/saumui.json":()=>n((()=>import("./saumui-CE5CRqF-.js")),[],import.meta.url),"../../assets/json/img/slap.json":()=>n((()=>import("./slap-DecAk_eL.js")),[],import.meta.url),"../../assets/json/img/spar.json":()=>n((()=>import("./spar-DGQJfWSM.js")),[],import.meta.url),"../../assets/json/img/vdanime.json":()=>n((()=>import("./vdanime-BR_0z3OY.js")),[],import.meta.url),"../../assets/json/img/vdchill.json":()=>n((()=>import("./vdchill-iZ3k91tm.js")),[],import.meta.url),"../../assets/json/img/vddoraemon.json":()=>n((()=>import("./vddoraemon-DfbLDw3h.js")),[],import.meta.url),"../../assets/json/img/vdgai.json":()=>n((()=>import("./vdgai-DebIhX-o.js")),[],import.meta.url),"../../assets/json/img/vdtet.json":()=>n((()=>import("./vdtet-C0-eAh7Q.js")),[],import.meta.url),"../../assets/json/img/videochill.json":()=>n((()=>import("./videochill-DFAVi_5O.js")),[],import.meta.url),"../../assets/json/img/videogaixinh.json":()=>n((()=>import("./videogaixinh-BqS_oyz-.js")),[],import.meta.url),"../../assets/json/img/waifu.json":()=>n((()=>import("./waifu-CTGaoqkO.js")),[],import.meta.url),"../../assets/json/img/wibu.json":()=>n((()=>import("./wibu-CaLuXU3x.js")),[],import.meta.url),"../../assets/json/img/xoa.json":()=>n((()=>import("./xoa-njJXdVtL.js")),[],import.meta.url)}),`../../assets/json/img/${t}.json`,6).then((s=>{E("Tinder.loadCategory:"+t);const e=Z(p(s.default));R(a((s=>{s[t]={urls:e,loadedMedia:[],index:0}})))})).catch((s=>{console.error("Failed to load category:",t,s),o.error(`Failed to load category: ${t}`)})).finally((()=>M(!1))))}),[t,P]);const C=r.useRef({});r.useEffect((()=>{const s=P[t];if(!s)return;const e=s.loadedMedia.length,o=Math.min(s.index+5,s.urls.length);for(let i=e;i<o;i++){const e=s.urls[i];!e||C.current[e]||s.loadedMedia.includes(e)||(C.current[e]=!0,S((s=>(s.add(e),s))),ns(e).then((s=>{s||console.error("Failed to preload media:",e),R(a((o=>(s?o[t].loadedMedia.push(e):o[t].urls=o[t].urls.filter((s=>s!==e)),o))))})).finally((()=>{C.current[e]=!1,S((s=>(s.delete(e),s)))})))}}),[t,P]);const F=()=>{R(a((s=>{const e=s[t].urls.length,o=s[t].index;s[t].index=(o+1)%e})))},z=(s,e)=>l.jsx(f,{wrap:!0,children:e.loadedMedia.map(((i,t)=>{const r=t===e.index,n=k.includes(i);return l.jsxs("div",{style:{border:r?"2px solid red":"none",borderRadius:10,padding:2,position:"relative"},className:"show-on-hover-trigger",children:[l.jsx(as,{url:i,onLoad:()=>{},onError:()=>{o.error(`Failed to load media: ${i}`)},maxWidth:100,maxHeight:100,autoPlay:!1}),l.jsxs(f,{size:3,style:{position:"absolute",bottom:5,right:5},children:[l.jsx(d,{danger:!0,icon:l.jsx("i",{className:"fa-solid fa-trash"}),className:"show-on-hover-item",onClick:()=>((s,e)=>{R(a((o=>{o[s].urls=o[s].urls.filter((s=>s!==e)),o[s].loadedMedia=o[s].loadedMedia.filter((s=>s!==e))})))})(s,i)}),l.jsx(d,{danger:n,icon:l.jsx("i",{className:"fa-solid fa-heart"}),onClick:()=>(s=>{E("Tinder.toggleLoved"),b((e=>e.includes(s)?e.filter((e=>e!==s)):[...e,s]))})(i),className:n?"":"show-on-hover-item"})]})]},i)}))},s),H=P[t],W=(null==(s=null==H?void 0:H.loadedMedia)?void 0:s.length)>0,$=null==(e=null==H?void 0:H.loadedMedia)?void 0:e[null==H?void 0:H.index],q=!$||N.has($);return l.jsx(j,{title:l.jsxs(l.Fragment,{children:["Tinder mini ",l.jsx("i",{className:"fa-solid fa-heart",style:{color:"red"}})]}),mode:"center",children:l.jsxs(f,{direction:"vertical",align:"center",children:[l.jsx(I,{options:os.map((s=>{var e,o;return{label:s+(P[s]?" ("+(null==(o=null==(e=P[s])?void 0:e.urls)?void 0:o.length)+")":""),value:s}})),value:t,onChange:u,showSearch:!0,popupMatchSelectWidth:!1}),W&&!q?l.jsx(as,{url:$,maxWidth:"95vw",maxHeight:"75vh",resizeMode:"contain",fixedSize:!1}):l.jsxs(l.Fragment,{children:[l.jsx(m,{active:!0}),l.jsx(x,{size:"default"})]}),l.jsxs(f,{size:"middle",style:{justifyContent:"center"},children:[l.jsx(v,{count:D.skip,color:"gray",children:l.jsx(d,{icon:l.jsx("i",{className:"fa-solid fa-xmark fa-lg"}),size:"large",onClick:()=>{E("Tinder.skip"),F(),V(a((s=>{s.skip=s.skip+1})))},disabled:w,children:i({en:"Skip",vi:"Bỏ qua"})})}),l.jsx(v,{count:D.like,color:"pink",children:l.jsx(d,{type:"primary",danger:!0,icon:l.jsx("i",{className:"fa-solid fa-heart fa-lg"}),size:"large",onClick:()=>{E("Tinder.love"),F(),b((s=>[...s.filter((s=>s!==$)),$])),V(a((s=>{s.like=s.like+1})))},disabled:w||q,children:i({en:"Love",vi:"Thích"})})})]}),(D.skip>0||D.like>0)&&l.jsx(d,{type:"text",onClick:()=>{E("Tinder.reset"),V({skip:0,like:0})},icon:l.jsx("i",{className:"fa-solid fa-rotate-left"}),children:i({en:"Reset count",vi:"Đếm lại"})}),l.jsx(O,{}),l.jsxs(_,{bordered:!1,style:{minWidth:300},destroyOnHidden:!0,children:[l.jsx(_.Panel,{header:l.jsxs(T.Text,{children:[i({en:"Your Love",vi:"Đã thích"})," ",l.jsx(y,{color:"pink",children:null==k?void 0:k.length})]}),children:(null==k?void 0:k.length)>0?l.jsx(L,{collectionName:"MiniTinder",renderItem:s=>l.jsxs("div",{style:{position:"relative",padding:5},className:"show-on-hover-trigger",children:[l.jsx(as,{url:s,maxWidth:120,maxHeight:120},s),l.jsx(d,{className:"show-on-hover-item",icon:l.jsx("i",{className:"fa-solid fa-close"}),onClick:()=>{b((e=>e.filter((e=>e!==s))))},style:{position:"absolute",bottom:5,right:5}})]}),initialData:k,rowKey:s=>s,stop:!0,downloadItem:(s,e)=>({url:s,name:`TinderSaved-${e}.${rs(s)}`}),headerButtons:()=>[l.jsx(d,{danger:!0,icon:l.jsx("i",{className:"fa-solid fa-trash"}),onClick:()=>b([]),children:i({en:"Clear",vi:"Xóa"})},"clear")]}):l.jsx(A,{description:"No love yet"})},"loved"),l.jsx(_.Panel,{header:l.jsxs(T.Text,{children:[i({en:"History",vi:"Lịch sử"})," ",l.jsx(y,{color:"blue",children:Object.keys(P).reduce(((s,e)=>{var o,i;return s+((null==(i=null==(o=null==P?void 0:P[e])?void 0:o.loadedMedia)?void 0:i.length)??0)}),0)})]}),children:l.jsx(_,{bordered:!1,destroyOnHidden:!0,children:Object.keys(P).length>0?Object.entries(P).map((([s,e])=>l.jsx(_.Panel,{header:l.jsxs(f,{align:"center",style:{justifyContent:"space-between",width:"100%"},children:[l.jsxs(T.Text,{children:[s," - ",e.loadedMedia.length,"/",e.urls.length," "]}),l.jsx(d,{icon:l.jsx("i",{className:"fa-solid fa-close"}),onClick:()=>{R(a((e=>(delete e[s],e))))}})]}),children:z(s,e)},s))):l.jsx(A,{description:"No history yet"})})},"a")]})]})})}function ts(s){const e=rs(s);return"mp4"===e||"webm"===e?"video":"mp3"===e||"wav"===e?"audio":"image"}function rs(s){var e;return(null==(e=s.split(".").pop())?void 0:e.toLowerCase())??".jpg"}function ns(s){return new Promise(((e,o)=>{switch(ts(s)){case"image":{const o=new Image;o.onload=()=>{e(!0)},o.onerror=()=>{console.error("Failed to preload image:",s),e(!1)},o.src=s;break}case"video":{const o=document.createElement("video");o.onloadeddata=()=>{e(!0)},o.onerror=()=>{console.error("Failed to preload video:",s),e(!1)},o.src=s;break}case"audio":{const o=new Audio;o.oncanplaythrough=()=>{e(!0)},o.onerror=()=>{console.error("Failed to preload audio:",s),e(!1)},o.src=s;break}default:e(!1)}}))}function as({url:s,onLoad:e=()=>{},onError:o=()=>{},maxWidth:i=500,maxHeight:t=500,autoPlay:r=!0,resizeMode:n="cover",fixedSize:a=!0}){switch(ts(s)){case"video":return l.jsx(ss,{src:s,controls:!0,style:{maxWidth:i,maxHeight:t,borderRadius:10},onLoadedData:e,onError:o,autoPlay:r});case"audio":return l.jsx("div",{style:{width:i,padding:20,background:"#f0f0f0",borderRadius:10},children:l.jsx(es,{src:s,controls:!0,style:{width:"100%"},onLoadedData:e,onError:o,autoPlay:r})});default:return l.jsx(R,{src:s,style:{...a?{width:i,height:t}:{maxWidth:i,maxHeight:t},objectFit:n,borderRadius:10,cursor:"pointer"},onLoad:e,onError:o,preview:{mask:null}})}}export{is as default};
