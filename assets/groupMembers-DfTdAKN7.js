import{y as o,x as e,az as n}from"./MyApp-DRRa55Bd.js";import"./index-DZEcYG8Q.js";var r=(o=>(o.GroupAdminsSection="GroupAdminsSection",o.GroupFriendsSection="GroupFriendsSection",o.GroupSameCitySection="GroupSameCitySection",o.GroupThingsInCommonSection="GroupThingsInCommonSection",o.GroupContributorsSection="GroupContributorsSection",o.GroupNewMembersSection="GroupNewMembersSection",o.GroupExpertsSection="GroupExpertsSection",o))(r||{});function i(o,e){var n,r,i;return null==(i=null==(r=null==(n=null==o?void 0:o.data)?void 0:n.group)?void 0:r.paginated_member_sections)?void 0:i.find((o=>o.__typename===e))}const l=[{type:"GroupAdminsSection",extractEdges:o=>{var e,n;return null==(n=null==(e=null==o?void 0:o.data)?void 0:e.group)?void 0:n.group_admin_profiles},getCount:o=>{var e,n,r;return null==(r=null==(n=null==(e=null==o?void 0:o.data)?void 0:e.group)?void 0:n.admin_and_moderator_profiles)?void 0:r.count}},{type:"GroupNewMembersSection",extractEdges:o=>{var e,n;return null==(n=null==(e=null==o?void 0:o.data)?void 0:e.group)?void 0:n.new_members}},{type:"GroupExpertsSection",extractEdges:(o,e)=>{var n,r;return null==(r=null==(n=i(o,e))?void 0:n.group)?void 0:r.experts},getCount:(o,e)=>{var n,r,l;return null==(l=null==(r=null==(n=i(o,e))?void 0:n.group)?void 0:r.accepted_expert_profiles)?void 0:l.count}},{type:"GroupContributorsSection",extractEdges:(o,e)=>{var n,r;return null==(r=null==(n=i(o,e))?void 0:n.group)?void 0:r.accepted_contributor_profiles},getCount:(o,e)=>{var n,r,l;return null==(l=null==(r=null==(n=i(o,e))?void 0:n.group)?void 0:r.accepted_contributor_profiles)?void 0:l.count}},{type:"GroupFriendsSection",extractEdges:(o,e)=>{var n,r;return null==(r=null==(n=i(o,e))?void 0:n.group)?void 0:r.group_friend_members},getCount:(o,e)=>{var n,r,l;return null==(l=null==(r=null==(n=i(o,e))?void 0:n.group)?void 0:r.friend_profiles)?void 0:l.count}},{type:"GroupThingsInCommonSection",extractEdges:(o,e)=>{var n,r;return null==(r=null==(n=i(o,e))?void 0:n.group)?void 0:r.group_member_discovery}},{type:"GroupSameCitySection",extractEdges:(o,e)=>{var n,r;return null==(r=null==(n=i(o,e))?void 0:n.group)?void 0:r.group_member_discovery},getCount:(o,e)=>{var n,r,l;return null==(l=null==(r=null==(n=i(o,e))?void 0:n.group)?void 0:r.same_city_profiles)?void 0:l.count}}];async function u(n){var r,i,u,d,a,s;const p=await o({fb_api_req_friendly_name:"GroupsCometMembersRootQuery",variables:{groupID:n,recruitingGroupFilterNonCompliant:!1,scale:2},doc_id:"24228104370155593"}),v=e(p);return console.log(v),{total:(null==(u=null==(i=null==(r=null==v?void 0:v.data)?void 0:r.group)?void 0:i.all_active_members)?void 0:u.count)||(null==(s=null==(a=null==(d=null==v?void 0:v.data)?void 0:d.group)?void 0:a.group_member_profiles)?void 0:s.count)||0,sections:l.map((o=>{var e;const{edges:n=[],page_info:r={}}=o.extractEdges(v,o.type)||{};return(null==n?void 0:n.length)?{type:o.type,total:(null==(e=o.getCount)?void 0:e.call(o,v,o.type))||0,members:null==n?void 0:n.map((o=>t(o,r))),hasMore:null==r?void 0:r.has_next_page}:null})).filter(Boolean)}}function t(o,e){var n,r,i,l,u,t,d,a,s,p,v,c,_,m,g,f,b,y,C,G,S,x;return{id:null==(n=null==o?void 0:o.node)?void 0:n.id,url:null==(r=null==o?void 0:o.node)?void 0:r.url,name:null==(i=null==o?void 0:o.node)?void 0:i.name,avatar:null==(u=null==(l=null==o?void 0:o.node)?void 0:l.profile_picture)?void 0:u.uri,isVerified:null==(t=null==o?void 0:o.node)?void 0:t.is_verified,bio:(null==(a=null==(d=null==o?void 0:o.node)?void 0:d.bio_text)?void 0:a.text)||"-",signals:null==(c=null==(v=null==(p=null==(s=null==o?void 0:o.node)?void 0:s.group_membership)?void 0:p.user_signals_info)?void 0:v.displayed_user_signals)?void 0:c.map((o=>{var e;return{type:null==o?void 0:o.signal_type_id,text:null==(e=null==o?void 0:o.title)?void 0:e.text}})),signalCount:(null==(g=null==(m=null==(_=null==o?void 0:o.node)?void 0:_.group_membership)?void 0:m.user_signals_info)?void 0:g.total_count)||0,joinStatus:null==(f=null==o?void 0:o.join_status_text)?void 0:f.text,score:parseInt(((null==(C=null==(y=null==(b=null==o?void 0:o.node)?void 0:b.group_membership)?void 0:y.group_contribution_score_text)?void 0:C.text)||"-").replace(/[^\d]/g,""))||0,friendshipStatus:null==(x=null==(S=null==(G=null==o?void 0:o.node)?void 0:G.user_type_renderer)?void 0:S.user)?void 0:x.friendship_status,cursor:(null==o?void 0:o.cursor)||(null==e?void 0:e.end_cursor)}}async function d({groupID:r,search:i,cursor:l}){const u=await o({fb_api_req_friendly_name:"useGroupsCometMemberSearchResultsRefetchQuery",variables:{count:20,cursor:l,groupID:r,query:i,scale:2,id:r},doc_id:"24270130222669396"}),d=e(u),{edges:a=[],page_info:s={}}=n(d)||{};return a.map((o=>t(o,s)))}async function a(r){const i=await o({fb_api_req_friendly_name:"CometGroupMembersAdminsRootQuery",variables:{groupID:r,scale:2},doc_id:"24899828039619743"}),l=e(i),{edges:u=[],page_info:d={}}=n(l)||{};return u.map((o=>t(o,d)))}async function s(r,i){const l=i?await o({fb_api_req_friendly_name:"GroupsCometFriendsCardPaginationQuery",variables:{count:10,cursor:i,groupID:r,scale:2,id:r},doc_id:"10081235741999408"}):await o({fb_api_req_friendly_name:"CometGroupMembersFriendsRootQuery",variables:{groupID:r,scale:2},doc_id:"24023337930693757"}),u=e(l);console.log(u);const{edges:d=[],page_info:a={}}=n(u)||{};return d.map((o=>t(o,a)))}async function p(r,i){const l=i?await o({fb_api_req_friendly_name:"GroupsCometMembersWithThingsInCommonCardPaginationQuery",variables:{count:10,cursor:i,groupID:r,scale:2,id:r},doc_id:"24350909544545776"}):await o({fb_api_req_friendly_name:"GroupsCometMembersWithThingsInCommonRootQuery",variables:{groupID:r,scale:2},doc_id:"9904407999665422"}),u=e(l),{edges:d=[],page_info:a={}}=n(u)||{};return d.map((o=>t(o,a)))}async function v(r,i){const l=i?await o({fb_api_req_friendly_name:"GroupsCometMembersInTheSameCityCardPaginationQuery",variables:{count:10,cursor:i,groupID:r,scale:2,id:r},doc_id:"9892531630844247"}):await o({fb_api_req_friendly_name:"GroupsCometMembersInTheSameCityRootQuery",variables:{groupID:r,scale:2},doc_id:"8773415552782835"}),u=e(l);console.log(u);const{edges:d=[],page_info:a={}}=n(u)||{};return d.map((o=>t(o,a)))}async function c(r,i){var l;if(!i){return(null==(l=(await u(r)).sections.find((o=>"GroupNewMembersSection"===o.type)))?void 0:l.members)||[]}const d=await o({fb_api_req_friendly_name:"GroupsCometMembersPageNewMembersSectionRefetchQuery",variables:{count:10,cursor:i,groupID:r,recruitingGroupFilterNonCompliant:!1,scale:2,id:r},doc_id:"24178555205141107"}),a=e(d),{edges:s=[],page_info:p={}}=n(a)||{};return s.map((o=>t(o,p)))}async function _(n=""){var r,i,l,u,t,d;const a=await o({fb_api_req_friendly_name:"CometGroupMembersAdminsRootQuery",variables:{groupID:n,scale:2},doc_id:"8138328892873449"}),s=e(a);console.log("getGroupMemberCount",s);const p=(null==(r=null==s?void 0:s.data)?void 0:r.group)||{};return{groupId:n||"",adminCount:(null==(i=null==p?void 0:p.admin_and_moderator_profiles)?void 0:i.count)||0,memberCount:(null==(l=null==p?void 0:p.all_active_members)?void 0:l.count)||(null==(u=null==p?void 0:p.group_member_profiles)?void 0:u.count)||0,adminProfiles:null==(d=null==(t=null==p?void 0:p.group_admin_profiles)?void 0:t.edges)?void 0:d.map((o=>{var e,n,r,i,l,u;return{uid:null==(e=null==o?void 0:o.node)?void 0:e.id,name:null==(n=null==o?void 0:o.node)?void 0:n.name,avatar:null==(i=null==(r=null==o?void 0:o.node)?void 0:r.profile_picture)?void 0:i.uri,url:null==(l=null==o?void 0:o.node)?void 0:l.url,verified:null==(u=null==o?void 0:o.node)?void 0:u.is_verified}}))}}export{l as GroupMemberSectionExtractor,r as GroupMemberSectionType,t as extractMember,a as getGroupAdminsSection,s as getGroupFriendsSection,_ as getGroupMemberCount,u as getGroupMembersRoot,c as getGroupNewMembersSection,v as getGroupSameCitySection,p as getGroupThingsInCommonSection,d as searchGroupMembers};
