import{r as i,b1 as e}from"./index-DZEcYG8Q.js";import{u as t,t as s,c as r,h as o,i as n,f as m}from"./MyApp-DRRa55Bd.js";import a,{DisplayType as p}from"./Collection-DTYRwOd8.js";import{getStoryViewers as d}from"./stories-DAeaujzo.js";import{R as j}from"./row-BgRGnxnv.js";import{A as l}from"./index-DhxhS065.js";import"./index-BA5m7QhG.js";import"./useCacheState-D4ghBCVU.js";import"./react-hotkeys-hook.esm-D8zm19cE.js";import"./index-C0Edlh-n.js";import"./index-BQAhaSn9.js";import"./index-CEGXIRel.js";import"./index-KPoWFIyW.js";import"./dropdown-BoVCRztz.js";import"./Dropdown-BgvXKd3u.js";import"./PurePanel-Beni9Vkb.js";import"./move-Bzyc79vL.js";import"./index-B87p3I4c.js";import"./Input-LTpJ6AuY.js";import"./EyeOutlined-BBPXKIU8.js";import"./SearchOutlined-Bh66KhXc.js";import"./index-CG5dclLJ.js";import"./useBreakpoint-HjQEkdEA.js";import"./index-D9U4WvIE.js";import"./List-BPJoeCz4.js";import"./index-CvALG2oX.js";import"./DownOutlined-BrkIPj-I.js";import"./Pagination-Dv2YSLQ3.js";import"./col-DLTiGXF3.js";import"./index-DHhmxYJT.js";function c({storyId:c,initialViewers:u=[]}){t(),i.useEffect((()=>{s("StoryViewers:onLoad")}),[]);return e.jsx(a,{collectionName:"viewers of "+c,fetchNext:async(i=[],e)=>{var t;const s=await d({storyId:c,cursor:e||(null==(t=i[i.length-1])?void 0:t.cursor)||""}),r=new Set(i.map((i=>i.uid)));return s.filter((i=>!r.has(i.uid)))},rowKey:i=>i.uid,renderItem:(i,t)=>e.jsxs(j,{align:"middle",justify:"space-between",style:{width:"100%"},children:[e.jsxs(r.Link,{href:o(i.uid),target:"_blank",style:{color:"#eee",padding:10},children:[(t||0)+1,".",e.jsx(l,{src:n(i.uid,50),style:{marginRight:10,marginLeft:10},size:40}),i.name," ",i.reactions]},i.uid),e.jsx(r.Text,{style:{},children:m(i.seen_time)})]}),initialData:u,displayType:p.Vertical,centerItems:!1})}export{c as default};
