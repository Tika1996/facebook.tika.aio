import{r as e,b1 as n}from"./index-DZEcYG8Q.js";import{a as t,b as s}from"./index-BA5m7QhG.js";import{d as c,u as r}from"./MyApp-DRRa55Bd.js";function i({disabled:i,children:o,next:a,hasNext:l,prev:u,hasPrev:d,loader:f,endMessage:h,prevLoader:g,prevEndMessage:v}){const{message:x}=c(),{ti:y}=r(),{isIntersecting:p,ref:m}=t(),{isIntersecting:k,ref:F}=t();s((()=>{M(),b()}),1e3),e.useLayoutEffect((()=>{M()}),[k]),e.useLayoutEffect((()=>{b()}),[p]);const j=e.useRef(!1),M=()=>{if(!i&&k&&!j.current){j.current=!0;const e="checkFetchNext";x.loading({key:e,content:y({en:"Fetching next...",vi:"Đang tải tiếp theo..."}),duration:0}),null==a||a().then((()=>{x.success({key:e,content:y({en:"Fetch success",vi:"Tải xong"})})})).catch((n=>{x.error({key:e,content:y({en:"Fetch failed: ",vi:"Tải lỗi: "})+n.message}),console.log(n)})).finally((()=>{j.current=!1}))}},T=e.useRef(!1),b=()=>{if(!i&&p&&!T.current){T.current=!0;const e="checkFetchPrev";x.loading({key:e,content:y({en:"Fetching previous...",vi:"Đang tải trước đó..."}),duration:0}),null==u||u().then((()=>{x.success({key:e,content:y({en:"Fetch success",vi:"Tải xong"})})})).catch((n=>{x.error({key:e,content:y({en:"Fetch failed: ",vi:"Tải lỗi: "})+n.message}),console.log(n)})).finally((()=>{T.current=!1}))}};return n.jsxs("div",{style:{flex:1},children:[u&&d&&!i&&n.jsx("div",{ref:m,children:g||f}),u&&!d&&(v||h),o,a&&l&&!i&&n.jsx("div",{ref:F,children:f}),!l&&h]})}export{i as default};
