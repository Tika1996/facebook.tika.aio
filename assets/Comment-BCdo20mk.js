const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./WordStatisticButton-BogWpezO.js","./index-DZEcYG8Q.js","./index-C6k8ZUm0.css","./MyApp-DRRa55Bd.js","./BadgeWrapper-D8uZ2wKG.js","./index-l5dW_dFo.js","./index-iP3EwXx5.js","./PurePanel-Beni9Vkb.js","./index-CiDxWY8X.js","./Dropdown-BgvXKd3u.js","./index-DOt91uSA.js","./DownOutlined-BrkIPj-I.js","./RandomComment-B0j11E8n.js","./useCacheState-D4ghBCVU.js","./shuffle-Eec_FHoP.js","./_copyArray-_bDJu6nu.js","./gender-D7cqwEK5.js","./index-B2BHea4N.js","./row-BgRGnxnv.js","./useBreakpoint-HjQEkdEA.js","./index-DhxhS065.js","./index-C0Edlh-n.js","./index-BE0FsmaM.js","./EyeOutlined-BBPXKIU8.js","./addEventListener-C9VBchln.js","./index-CQLKYzCc.js","./CommentAttachment-Cf6Af519.js","./comments-Dt_w-TDU.js","./videos-DtjqJObU.js","./___vite-browser-external_commonjs-proxy-D5wFEbJ4.js","./reactions-DA-LA4iH.js"])))=>i.map(i=>d[i]);
import{b1 as e,b5 as t,r as n,b2 as i,bi as r,aY as l}from"./index-DZEcYG8Q.js";import{CommentIntentToken as o,getPostComments as s,CommentAttachmentType as a,IdentityBadgeType as c,IdentityBadgeTypeNames as d,getReplyComments as m,reactToComment as h,CommentIntentTokenNames as u}from"./comments-Dt_w-TDU.js";import{u as p,S as g,T as v,d as x,i as y,c as j,h as f,e as b,f as k,b as w,g as T,z as R,A as C,s as I,t as _,l as A,I as $,v as S,aG as N,C as L}from"./MyApp-DRRa55Bd.js";import E from"./MyTable-D1FbPMwN.js";import B from"./useCacheState-D4ghBCVU.js";import{G as O}from"./gender-D7cqwEK5.js";import F from"./ExportButton-CPuYvz9B.js";import{R as P,a as D}from"./reactions-DA-LA4iH.js";import{P as M}from"./index-C0Edlh-n.js";import{I as V}from"./index-BE0FsmaM.js";import{A as z}from"./index-DhxhS065.js";import{u as G}from"./useAction-DQs_XsxB.js";import{R as H}from"./row-BgRGnxnv.js";import{S as W}from"./index-D9U4WvIE.js";import{T as K}from"./index-DOt91uSA.js";import{M as q}from"./index-iP3EwXx5.js";import"./videos-DtjqJObU.js";import"./___vite-browser-external_commonjs-proxy-D5wFEbJ4.js";import"./index-BA5m7QhG.js";import"./Table-DDck-vB7.js";import"./addEventListener-C9VBchln.js";import"./List-BPJoeCz4.js";import"./DownOutlined-BrkIPj-I.js";import"./index-BRk8JeT5.js";import"./index-CEGXIRel.js";import"./index-BQAhaSn9.js";import"./index-KPoWFIyW.js";import"./dropdown-BoVCRztz.js";import"./Dropdown-BgvXKd3u.js";import"./PurePanel-Beni9Vkb.js";import"./move-Bzyc79vL.js";import"./useBreakpoint-HjQEkdEA.js";import"./Pagination-Dv2YSLQ3.js";import"./index-CvALG2oX.js";import"./SearchOutlined-Bh66KhXc.js";import"./Input-LTpJ6AuY.js";import"./index-B87p3I4c.js";import"./EyeOutlined-BBPXKIU8.js";import"./useVIP-CGpIDALh.js";import"./sweetalert2.esm.all-BZxvatOx.js";import"./getIds-BE6G2xp0.js";import"./index-CiDxWY8X.js";import"./index-DHhmxYJT.js";const Y=[D.LIKE,D.HEART,D.LOVE,D.HAHA,D.WOW,D.SAD,D.ANGRY];function J({onReaction:n,renderButton:i,loading:r=!1,reactedId:l,buttonText:o,title:s}){const{ti:a}=p();return e.jsx(M,{title:s||a({en:"Reactions",vi:"Thả cảm xúc"}),arrow:!1,content:e.jsxs(g,{children:[l&&e.jsx(v,{title:a({en:"Undo reaction",vi:"Thu hồi cảm xúc"}),children:e.jsx(t,{type:"text",icon:e.jsx("i",{className:"fa-solid fa-ban"}),onClick:()=>n("0")})}),Y.map((i=>e.jsx(v,{title:a(P[i].display_name),children:e.jsx(t,{type:"text",className:"scale-on-hover-btn",icon:e.jsx(z,{src:P[i].icon}),onClick:()=>n(i)})},i)))]}),children:i?i():e.jsx(t,{loading:r,onClick:()=>n(l?"0":D.LIKE),icon:l&&P[l]?e.jsx(V,{src:P[l].icon,preview:!1,width:20,height:20}):e.jsx("i",{className:"fa-solid fa-thumbs-up"}),children:o})})}const Q=i((()=>l((()=>import("./WordStatisticButton-BogWpezO.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]),import.meta.url))),U=i((()=>l((()=>import("./RandomComment-B0j11E8n.js")),__vite__mapDeps([12,1,2,13,3,14,15,16,17,8,9,18,19,20,21,22,23,24,25]),import.meta.url)),{fallback:L}),X=i((()=>l((()=>import("./CommentAttachment-Cf6Af519.js")),__vite__mapDeps([26,1,2,27,3,28,29,30,22,23,24]),import.meta.url)),{fallback:$});function Z(e){const t=[];function n(e,i){if(t.push({...e,index:i}),e.reply&&Array.isArray(e.reply.comments)&&e.reply.comments.length)for(let t=0;t<e.reply.comments.length;t++){n(e.reply.comments[t],i+"_"+(t+1))}}for(let i=0;i<e.length;i++)n(e[i],(i+1).toString());return t}function ee({target:i=null,postId:l}){var $,L;const{ti:D}=p(),{message:M}=x(),{onClickBulkActions:Y}=G(),[ee,te]=n.useState(!1),[ne,ie]=B(`Comment.${l}.total`,0),[re,le]=B(`Comment.${l}.loadMoreCount`,10),[oe,se]=B(`Comment.${l}`,[]),[ae,ce]=B(`Comment.${l}.intentToken`,o.RECENT_ACTIVITY),[de,me]=n.useState({}),[he,ue]=B("Comment.maxReplyDepth",1),[pe,ge]=n.useState(!1),[ve,xe]=n.useState(!1),[ye,je]=B(`Comment.${l}.reactions`,{}),fe=n.useMemo((()=>Z(oe)),[oe]);n.useEffect((()=>{l&&0===oe.length&&be()}),[l,oe.length]);const be=()=>{te(!0),s({postId:l,type:ae}).then((e=>{console.log("comment ne",e.comments),se([...e.comments]),ie(e.total)})).finally((()=>{te(!1)}))},ke=async()=>{var t;if((null==fe?void 0:fe.length)||be(),re<=0)return;const n="Comment.onLoadMore",i=n+".sleep",r=[...fe],o=(null==r?void 0:r.length)+re;let a=!1,c=0;for(te(!0),M.loading({key:n,duration:0,content:D({en:"Loading comments...",vi:"Đang tải bình luận..."})});(null==r?void 0:r.length)<o&&!a;){const o=null==(t=r[(null==r?void 0:r.length)-1])?void 0:t.cursor,{comments:d,total:m}=await s({postId:l,type:ae,cursor:o});if(null==d?void 0:d.length){const t=new Set(r.map((e=>e.id))),l=d.filter((e=>!t.has(e.id)));if(!(null==l?void 0:l.length))break;if(r.push(...l),c+=null==l?void 0:l.length,se([...r]),m&&ie(m),M.loading({key:n,duration:0,content:e.jsxs(e.Fragment,{children:[D({en:"Loading comments...",vi:"Đang tải bình luận..."})+` (${c}/${re})`,e.jsx("br",{}),D({en:"Click to stop",vi:"Click để dừng"})]}),onClick:()=>a=!0}),c>=re)break;await S(N(2e3,5e3),(e=>(M.loading({key:i,content:D({en:"Waiting...",vi:"Đang chờ..."})+` (${~~(e/1e3)})`}),a))),M.destroy(i)}else a=!0}te(!1),M.destroy(n),M.success(D({en:`Loaded ${c}/${re} comments`,vi:`Đã tải ${c}/${re} bình luận`}))},we=n.useMemo((()=>[...new Set(fe.flatMap((e=>{var t;return null==(t=e.signals)?void 0:t.map((e=>e.title))})))].filter(Boolean).map((e=>{var t;return{text:e+" ("+(null==(t=fe.filter((t=>{var n;return null==(n=t.signals)?void 0:n.some((t=>t.title===e))})))?void 0:t.length)+")",value:e}}))),[fe]),Te=async(e,t)=>{var n;const i="Comment.onReaction";_(i);const l=i+":"+t.id+":"+e;M.loading({key:l,duration:0,content:D("0"!=e?{en:"Reacting...",vi:"Đang thích..."}:{en:"Removing reaction...",vi:"Đang bỏ thích..."})+A(t.text,30)}),je((e=>({...e,[t.id]:!0})));let o=!1;try{const i=await h({commentId:t.id,reactionId:e});((e,t)=>{se((n=>r(n,(n=>{!function n(i){var r;if(!(null==i?void 0:i.length))return!1;for(const l of i){if(l.id===e.id)return l.react.my=t?{id:t,name:D(null==(r=P[t])?void 0:r.display_name)}:null,!0;if(l.reply&&Array.isArray(l.reply.comments)&&n(l.reply.comments))return!0}return!1}(n)}))))})(t,null==(n=null==i?void 0:i.your)?void 0:n.reactionId),M.success({key:l,content:D("0"!=e?{en:"Reacting success: ",vi:"Thích thành công: "}:{en:"Removing reaction success: ",vi:"Bỏ thích thành công: "})+A(t.text,30)}),o=!0}catch(s){console.error(s),M.error({key:l,content:D("0"!=e?{en:"Reacting failed: ",vi:"Thích thất bại: "}:{en:"Removing reaction failed: ",vi:"Bỏ thích thất bại: "})+A(t.text,30)}),o=!1}finally{je((e=>({...e,[t.id]:void 0})))}return o},Re=[{title:"#",key:"index",dataIndex:"index"},{title:D({en:"Reply",vi:"Trả lời"}),key:"reply",dataIndex:"reply",render:(n,i,l)=>{var o;const s=i.reply.count||0,a=(null==(o=i.reply.comments)?void 0:o.length)||0;if(0===s)return"";const c=a>=s;return e.jsxs(g,{children:[a?`${a}/${s}`:s,e.jsx(v,{title:D(c?{en:"All replies loaded",vi:"Đã tải hết bình luận"}:{en:"Load replies ",vi:"Tải bình luận trả lời"}),children:e.jsx(t,{icon:e.jsx("i",{className:"fa-solid fa-comments"}),loading:de[i.id],disabled:c,onClick:()=>(async e=>{me((t=>({...t,[e.id]:!0})));const t=`Comment.onLoadReply.${e.id}`;M.loading({key:t,duration:0,content:D({en:"Loading replies...",vi:"Đang tải trả lời..."})});const n=e.reply.comments[e.reply.comments.length-1],i=null==n?void 0:n.cursor,l=await m({commentId:e.id,expansionToken:e.reply.expansion_token,cursor:i});console.log("replies",l),l.length?(M.success({key:t,content:D({en:"Replies loaded",vi:"Trả lời đã tải"})+` (${l.length})`}),se((t=>r(t,(t=>{!function t(n){for(const i of n){if(i.id===e.id)return i.reply.comments||(i.reply.comments=[]),i.reply.comments.push(...l),!0;if(i.reply&&Array.isArray(i.reply.comments)&&i.reply.comments.length&&t(i.reply.comments))return!0}return!1}(t)}))))):M.error({key:t,content:D({en:"No replies found",vi:"Không tìm thấy trả lời"})}),me((t=>({...t,[e.id]:!1})))})(i)})})]})},align:"end",rangeFilter:{getValue:e=>e.reply.count},sorter:(e,t)=>t.reply.count-e.reply.count,width:100},{title:D({en:"Author",vi:"Tác giả"}),key:"author",dataIndex:"author",render:(t,n,i)=>{const r=n.depth>0?e.jsx("div",{style:{paddingLeft:20+100*(n.depth-1),paddingRight:5},children:"╰──── "}):null;return e.jsxs(H,{align:"middle",justify:"start",style:{flex:1},children:[r,e.jsx(z,{shape:"square",src:e.jsx(V,{src:y(n.author.id),fallback:n.author.avatar}),size:50}),e.jsxs(g,{direction:"vertical",size:0,style:{marginLeft:10},children:[e.jsx(j.Link,{href:n.author.url||f(n.author.id),target:"_blank",strong:!0,children:n.author.name}),e.jsx(j.Text,{type:"secondary",children:n.author.id})]})]})}},{title:D({en:"Text",vi:"Nội dung"}),key:"text",dataIndex:"text",render:(e,t,n)=>t.text,filters:[{text:D({en:"Has text",vi:"Có nội dung"})+" ("+(null==($=fe.filter((e=>{var t;return(null==(t=e.text)?void 0:t.length)>0})))?void 0:$.length)+")",value:!0},{text:D({en:"No text",vi:"Không nội dung"})+" ("+(null==(L=fe.filter((e=>{var t;return 0===(null==(t=e.text)?void 0:t.length)})))?void 0:L.length)+")",value:!1}],onFilter:(e,t)=>{var n,i;return e?(null==(n=t.text)?void 0:n.length)>0:0===(null==(i=t.text)?void 0:i.length)},width:300},{title:D({en:"Attachments",vi:"Đính kèm"}),key:"attachments",dataIndex:"attachments",render:(t,n,i)=>n.attachments.map((t=>e.jsx(X,{attachment:t}))),filters:Object.entries(a).map((([e,t])=>{var n;return{text:e+" ("+(null==(n=fe.filter((e=>e.attachments.some((e=>e.type===t)))))?void 0:n.length)+")",value:t}})),onFilter:(e,t)=>t.attachments.some((t=>t.type===e)),width:200},{title:D({en:"Time",vi:"Thời gian"}),key:"created_time",dataIndex:"created_time",render:(t,n,i)=>e.jsxs(g,{direction:"vertical",size:0,children:[e.jsx(j.Text,{children:b(n.created_time)}),e.jsx(j.Text,{type:"secondary",children:k(n.created_time)})]}),sorter:(e,t)=>e.created_time-t.created_time,width:150},{title:D({en:"React",vi:"Thích"}),key:"react",dataIndex:"react",render:(t,n,i)=>e.jsxs(g,{size:3,direction:"vertical",children:[e.jsx(w,{color:n.react.total>0?"success":"default",children:T(n.react.total)}),n.react.each.map((t=>e.jsxs(g,{size:2,children:[e.jsx(V,{preview:!1,src:P[t.id].icon,width:20,height:20})," ",T(t.count)]},t.id)))]}),rangeFilter:{getValue:e=>e.react.total},sorter:(e,t)=>t.react.total-e.react.total,width:100},{title:D({en:"Badges",vi:"Huy hiệu"}),key:"badges",dataIndex:"badges",render:(t,n,i)=>{var r,l;return(null==(r=n.badges)?void 0:r.length)?e.jsx(g,{direction:"vertical",children:null==(l=n.badges)?void 0:l.map((t=>e.jsx(v,{title:D(d[t.type]),children:e.jsx(V,{src:t.icon,preview:!1,width:20,height:20})},t.type)))}):"-"},filters:Object.entries(c).map((([e,t])=>{var n;return{text:D(d[t])+" ("+(null==(n=fe.filter((e=>{var n;return null==(n=e.badges)?void 0:n.some((e=>e.type===t))})))?void 0:n.length)+")",value:t}})),onFilter:(e,t)=>{var n;return null==(n=t.badges)?void 0:n.some((t=>t.type===e))},width:100},(null==i?void 0:i.type)===R.Group?{title:D({en:"Signals",vi:"Tín hiệu"}),key:"signals",dataIndex:"signals",render:(t,n,i)=>{var r;return e.jsx(g,{direction:"vertical",children:null==(r=n.signals)?void 0:r.map((t=>e.jsxs(w,{children:[t.icon&&e.jsx(V,{src:t.icon,preview:!1,width:20,height:20}),t.title]},t.id)))})},filters:we,onFilter:(e,t)=>{var n;return null==(n=t.signals)?void 0:n.some((t=>t.title===e))},width:100}:{},{title:D({en:"Gender",vi:"Giới tính"}),key:"gender",dataIndex:"gender",render:(t,n,i)=>{const r=O[n.author.gender];return r?e.jsx(w,{color:r.color,children:D(r)}):null},filters:Object.entries(O).map((([e,t])=>{var n;return{text:D(t)+" ("+(null==(n=fe.filter((t=>t.author.gender===e)))?void 0:n.length)+")",value:e}})),onFilter:(e,t)=>t.author.gender===e,width:100},{title:D({en:"Actions",vi:"Hành động"}),key:"actions",dataIndex:"actions",render:(n,i,r)=>{var l;return e.jsxs(g,{children:[e.jsx(v,{title:D({en:"View comment",vi:"Xem bình luận"}),children:e.jsx(t,{href:i.url,target:"_blank",icon:e.jsx("i",{className:"fa-solid fa-arrow-up-right-from-square"})})}),e.jsx(J,{onReaction:e=>Te(e,i),loading:ye[i.id],reactedId:null==(l=i.react.my)?void 0:l.id})]})},width:100}],Ce=async(t,n,i,r)=>{var l,o,s,a,c;if(n>=i||!(null==(l=t.reply)?void 0:l.count)||(null==(o=t.reply.comments)?void 0:o.length)>=t.reply.count)return t;let d={...t},h=(null==(s=d.reply.comments)?void 0:s.length)||0,u=h>0?null==(a=d.reply.comments[h-1])?void 0:a.cursor:void 0,p=d.reply.comments?[...d.reply.comments]:[],v=d.reply.expansion_token;for(;p.length<d.reply.count;){const i=await m({commentId:d.id,expansionToken:v,cursor:u});if(!i.length)break;p.push(...i),u=null==(c=i[i.length-1])?void 0:c.cursor;const l="fetchAllReplies.waiting."+n+"."+t.id;if(await S(N(500,2e3),(t=>(M.loading({key:l,content:e.jsxs(g,{direction:"vertical",size:3,children:[e.jsxs(j.Text,{children:[D({en:"Comment",vi:"Bình luận"}),":"," ",A(d.text,50)]}),e.jsxs(j.Text,{children:[D({en:"Depth",vi:"Độ sâu"}),": ",n,"; ",D({en:"Loaded",vi:"Đã tải"}),": ",p.length,"/",d.reply.count,"; ",D({en:"Waiting...",vi:"Đang chờ..."})," ",~~(t/1e3)]})]})}),r()))),r())break}for(let e=0;e<p.length&&(p[e]=await Ce(p[e],n+1,i,r),!r());e++);return d.reply.comments=p,d},Ie=n.useRef(null),_e=()=>{if(0===fe.length)return M.error(D({en:"No comments to choose from",vi:"Không có bình luận để chọn"}));xe(!0)};return e.jsxs(H,{align:"middle",justify:"center",children:[e.jsx(C,{type:"info",showIcon:!0,message:D({en:"Total comments (include replies): ",vi:"Tổng bình luận (bao gồm trả lời): "})+T(ne),style:{marginBottom:10}}),e.jsx(E,{ref:Ie,columns:Re,data:fe,searchable:!0,selectable:!0,keyExtractor:e=>e.id+" "+(e.parent_id||"")+(e.created_time||0),renderTitle:n=>{const i=(null==n?void 0:n.length)>0?n:fe,r=i.filter((e=>e.reply.count>0&&e.reply.comments.length<e.reply.count));return e.jsxs(g,{wrap:!0,children:[e.jsxs(g.Compact,{children:[e.jsx(F,{data:(null==n?void 0:n.length)>0?n:fe,options:[{key:"json (raw)",label:".json (raw)",prepareData:e=>({data:JSON.stringify(e,null,2),fileName:`${l}-comments-raw-${l}.json`})},{key:"json (flat array)",label:".json (flat array)",prepareData:e=>({data:JSON.stringify(Z(e),null,2),fileName:`${l}-comments-flat-${l}.json`})}]}),e.jsx(W,{value:ae,onChange:ce,options:Object.entries(u).map((([e,t])=>({value:e}))),labelRender:t=>e.jsxs(g,{size:5,children:[e.jsx("i",{className:u[t.value].icon}),D(u[t.value])]}),placeholder:D({en:"Select display mode",vi:"Chọn mode hiển thị"}),popupMatchSelectWidth:!1,optionRender:t=>{const n=u[t.value],i=D(n),r=D(n.description);return e.jsxs("div",{style:{width:300,padding:5},children:[e.jsxs(g,{children:[e.jsx("i",{className:n.icon}),e.jsx(j.Text,{strong:!0,children:i})]}),e.jsx(j.Text,{type:"secondary",style:{fontSize:"12px",width:"100%",display:"block",whiteSpace:"normal",wordBreak:"break-word",marginTop:5},children:r})]})}}),e.jsx(t,{icon:e.jsx("i",{className:"fa-solid fa-rotate-right"}),onClick:be,loading:ee,children:D({en:"Refresh",vi:"Làm mới"})})]}),ne-(null==fe?void 0:fe.length)>0&&e.jsxs(g.Compact,{children:[e.jsx(v,{title:D({en:"Number of comments to load more",vi:"Số lượng bình luận muốn tải thêm"})+"\nmin: 1, max: "+(ne-(null==fe?void 0:fe.length)-fe.map((e=>e.reply.count)).reduce(((e,t)=>e+t),0)),children:e.jsx(K,{min:1,max:ne-(null==fe?void 0:fe.length),value:re,onChange:e=>{le(e)},style:{width:60}})}),e.jsx(t,{icon:e.jsx("i",{className:"fa-solid fa-play"}),onClick:ke,disabled:re<=0,loading:ee,children:D({en:"Load more",vi:"Tải thêm"})})]}),r.length>0&&e.jsxs(g.Compact,{children:[e.jsx(v,{title:D({en:"Max reply depth",vi:"Độ sâu trả lời tối đa"}),children:e.jsx(K,{min:1,max:10,value:he,onChange:e=>ue(e||1),style:{width:60}})}),e.jsx(v,{title:D({en:"Fetch replies of selected comments",vi:"Tải trả lời của bình luận đang chọn"}),children:e.jsx(t,{icon:e.jsx("i",{className:"fa-solid fa-comments"}),loading:pe,onClick:()=>(async t=>{ge(!0);try{let n=function(e,t){var i;for(let r=0;r<e.length;r++){if(e[r].id===t.id)return e[r]=t,!0;if(e[r].reply&&(null==(i=e[r].reply.comments)?void 0:i.length)&&n(e[r].reply.comments,t))return!0}return!1},i=[...oe],r=0,l=!1,o="fetchAllReplies.stopping";for(let s=0;s<t.length;s++){const a=t[s];M.loading({key:"fetchAllReplies",duration:0,content:e.jsxs(e.Fragment,{children:[D({en:`Fetching replies (${s+1}/${t.length})...`,vi:`Đang tải trả lời (${s+1}/${t.length})...`}),e.jsx("br",{}),D({en:"Click to stop",vi:"Nhấn để dừng"})]}),onClick:()=>{l=!0,M.loading({key:o,duration:0,content:D({en:"Stopping...",vi:"Đang dừng..."})})}});const c=await Ce(a,a.depth||0,he,(()=>l));if(n(i,c),r++,se([...i]),l)break}M.destroy(o),M.success({key:"fetchAllReplies",content:D({en:`Fetched all replies for ${r} comments`,vi:`Đã tải trả lời cho ${r} bình luận`})})}catch(n){M.error({key:"fetchAllReplies",content:D({en:"Error fetching replies",vi:"Lỗi khi tải trả lời"})})}finally{ge(!1)}})(r),disabled:pe||0===r.length,children:r.length})})]}),e.jsxs(g.Compact,{children:[e.jsx(v,{title:D({en:`Choose a random comment in ${i.length} selected comments`,vi:`Chọn ngẫu nhiên 1 bình luận trong ${i.length} bình luận đang chọn`}),children:e.jsx(t,{icon:e.jsx("i",{className:"fa-solid fa-random"}),onClick:_e,children:n.length>0?n.length:i.length})}),e.jsx(J,{onReaction:e=>(async(e,t)=>{const n="0"!=e,i=n?t.filter((e=>{var t;return!(null==(t=e.react.my)?void 0:t.id)})):t.filter((e=>{var t;return null==(t=e.react.my)?void 0:t.id}));return Y({data:i,key:"Comment.onBulkReaction:"+e,actionFn:t=>{var i;return!n&&!(null==(i=t.react.my)?void 0:i.id)||Te(e,t)},loadingText:e=>D(n?{en:"Reacting...",vi:"Đang thích..."}:{en:"Removing reaction...",vi:"Đang bỏ thích..."})+e.text,successText:()=>D(n?{en:"Reacted comments",vi:"Đã thích bình luận"}:{en:"Removed reaction comments",vi:"Đã bỏ thích bình luận"}),successDescItem:e=>e.text,requireVIP:!0,confirmProps:{title:D({en:n?"React "+i.length+" comments?":"Remove reaction "+i.length+" comments?",vi:n?"Thích "+i.length+" bình luận?":"Bỏ thích "+i.length+" bình luận?"}),text:D({en:n?"Are you sure to react "+i.length+" comments?":"Are you sure to remove reaction "+i.length+" comments?",vi:n?"Bạn có chắc chắn muốn thích "+i.length+" bình luận?":"Bạn có chắc chắn muốn bỏ thích "+i.length+" bình luận?"}),icon:"warning"}})})(e,i),loading:Object.values(ye).some((e=>e)),buttonText:i.length+"",title:D({en:"React to "+i.length+" comments",vi:"Thả cảm xúc cho "+i.length+" bình luận"}),reactedId:i.some((e=>{var t;return null==(t=e.react.my)?void 0:t.id}))?"1":void 0}),e.jsx(Q,{text:i.map((e=>e.text)).join(" ")})]}),e.jsx(q,{open:ve,onCancel:()=>xe(!1),destroyOnHidden:!0,title:D({en:"Random comment",vi:"Bình luận ngẫu nhiên"}),styles:{header:{textAlign:"center"},body:{padding:0}},footer:null,children:ve&&e.jsx(U,{comments:i.map(((e,t)=>({...e,index:t.toString()}))),onPressWhere:e=>{var t,n;null==(n=Ie.current)||n.setSearch(e.text||(null==(t=null==e?void 0:e.author)?void 0:t.name))}})})]})},onSearchRow:(e,t)=>{var n;return[null==(n=t.author)?void 0:n.name,t.text].some((t=>I(e,t)))},searchPlaceholder:D({en:"Search by name, text...",vi:"Tìm kiếm tên, nội dung..."})})]})}export{ee as default};
