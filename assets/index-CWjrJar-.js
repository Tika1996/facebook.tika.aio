const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./WebTimerChart-RRgkIxHI.js","./index-DZEcYG8Q.js","./index-C6k8ZUm0.css","./dayjs.min-BxbhFvXw.js","./MyApp-DRRa55Bd.js","./Table-DDck-vB7.js","./addEventListener-C9VBchln.js","./List-BPJoeCz4.js","./DownOutlined-BrkIPj-I.js","./index-BRk8JeT5.js","./index-CEGXIRel.js","./index-BQAhaSn9.js","./index-KPoWFIyW.js","./dropdown-BoVCRztz.js","./Dropdown-BgvXKd3u.js","./PurePanel-Beni9Vkb.js","./move-Bzyc79vL.js","./index-D9U4WvIE.js","./index-CvALG2oX.js","./SearchOutlined-Bh66KhXc.js","./useBreakpoint-HjQEkdEA.js","./Pagination-Dv2YSLQ3.js","./Input-LTpJ6AuY.js","./index-B0BghIXV.js","./index-B87p3I4c.js","./EyeOutlined-BBPXKIU8.js","./UploadModal-DObBV9ds.js","./index-iP3EwXx5.js","./index-CjG_XAWm.js","./progress-DrPKzQLC.js"])))=>i.map(i=>d[i]);
import{cj as t,ck as r,cl as e,cm as n,cn as i,co as o,aS as a,aQ as u,cp as c,cq as s,cr as f,aO as l,aP as d,aR as m,cs as v,aT as p,ct as h,cu as j,aJ as b,r as x,c7 as y,b1 as g,b9 as w,bb as _,b2 as T,b5 as O,aY as k}from"./index-DZEcYG8Q.js";import{isScriptEnabled as C}from"./AutoRun-Cc2I9DPu.js";import{S}from"./Screen-1_H4V3tg.js";import{u as W,d as B,S as P,A,c as D,T as I,x as E,aO as L,I as N}from"./MyApp-DRRa55Bd.js";import{r as R}from"./_copyArray-_bDJu6nu.js";import F from"./useCacheState-D4ghBCVU.js";import{D as H}from"./index-DHhmxYJT.js";import{S as V}from"./index-l5dW_dFo.js";import{E as q}from"./index-CvALG2oX.js";import"./BadgeWrapper-D8uZ2wKG.js";import"./adsLinkList-C2Suxade.js";import"./row-BgRGnxnv.js";import"./useBreakpoint-HjQEkdEA.js";import"./index-CG5dclLJ.js";import"./index-D9U4WvIE.js";import"./List-BPJoeCz4.js";import"./PurePanel-Beni9Vkb.js";import"./move-Bzyc79vL.js";import"./DownOutlined-BrkIPj-I.js";import"./SearchOutlined-Bh66KhXc.js";import"./Pagination-Dv2YSLQ3.js";import"./col-DLTiGXF3.js";import"./index-BQAhaSn9.js";import"./index-CEGXIRel.js";var M,U,J,X,$,G,K,Q,Y,z;function Z(){if(U)return M;U=1;var r=t(),e=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();return M=e}function tt(){if(X)return J;X=1;var t=Z();return J=function(r,e,n){"__proto__"==e&&t?t(r,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):r[e]=n}}function rt(){if(G)return $;G=1;var t=tt(),e=r();return $=function(r,n,i){(void 0!==i&&!e(r[n],i)||void 0===i&&!(n in r))&&t(r,n,i)}}function et(){if(z)return Y;z=1;var t=(Q?K:(Q=1,K=function(t){return function(r,e,n){for(var i=-1,o=Object(r),a=n(r),u=a.length;u--;){var c=a[t?u:++i];if(!1===e(o[c],c,o))break}return r}}))();return Y=t}var nt,it,ot,at,ut,ct,st,ft,lt,dt,mt,vt,pt,ht,jt,bt,xt,yt,gt,wt,_t,Tt,Ot,kt,Ct,St,Wt,Bt,Pt,At,Dt,It,Et,Lt,Nt,Rt,Ft,Ht,Vt,qt,Mt,Ut,Jt,Xt,$t,Gt,Kt,Qt,Yt,zt,Zt,tr,rr,er,nr,ir={exports:{}};function or(){if(ut)return at;ut=1;var t=function(){if(ot)return it;ot=1;var t=n();return it=function(r){var e=new r.constructor(r.byteLength);return new t(e).set(new t(r)),e}}();return at=function(r,e){var n=e?t(r.buffer):r.buffer;return new r.constructor(n,r.byteOffset,r.length)}}function ar(){if(lt)return ft;lt=1;var t=o()(Object.getPrototypeOf,Object);return ft=t}function ur(){if(mt)return dt;mt=1;var t=function(){if(st)return ct;st=1;var t=i(),r=Object.create;return ct=function(){function e(){}return function(n){if(!t(n))return{};if(r)return r(n);e.prototype=n;var i=new e;return e.prototype=void 0,i}}()}(),r=ar(),e=a();return dt=function(n){return"function"!=typeof n.constructor||e(n)?{}:t(r(n))}}function cr(){if(xt)return bt;return xt=1,bt=function(t,r){if(("constructor"!==r||"function"!=typeof t[r])&&"__proto__"!=r)return t[r]}}function sr(){if(_t)return wt;_t=1;var t=function(){if(gt)return yt;gt=1;var t=tt(),e=r(),n=Object.prototype.hasOwnProperty;return yt=function(r,i,o){var a=r[i];n.call(r,i)&&e(a,o)&&(void 0!==o||i in r)||t(r,i,o)}}(),e=tt();return wt=function(r,n,i,o){var a=!i;i||(i={});for(var u=-1,c=n.length;++u<c;){var s=n[u],f=o?o(i[s],r[s],s,i,r):void 0;void 0===f&&(f=r[s]),a?e(i,s,f):t(i,s,f)}return i}}function fr(){if(Ct)return kt;Ct=1;var t=i(),r=a(),e=Ot?Tt:(Ot=1,Tt=function(t){var r=[];if(null!=t)for(var e in Object(t))r.push(e);return r}),n=Object.prototype.hasOwnProperty;return kt=function(i){if(!t(i))return e(i);var o=r(i),a=[];for(var u in i)("constructor"!=u||!o&&n.call(i,u))&&a.push(u);return a}}function lr(){if(Wt)return St;Wt=1;var t=f(),r=fr(),e=u();return St=function(n){return e(n)?t(n,!0):r(n)}}function dr(){if(Dt)return At;Dt=1;var t,r,n,o,a,f,h,j=rt(),b=(nt||(nt=1,t=ir,r=ir.exports,n=e(),o=r&&!r.nodeType&&r,a=o&&t&&!t.nodeType&&t,f=a&&a.exports===o?n.Buffer:void 0,h=f?f.allocUnsafe:void 0,t.exports=function(t,r){if(r)return t.slice();var e=t.length,n=h?h(e):new t.constructor(e);return t.copy(n),n}),ir.exports),x=or(),y=R(),g=ur(),w=l(),_=d(),T=function(){if(pt)return vt;pt=1;var t=u(),r=c();return vt=function(e){return r(e)&&t(e)}}(),O=m(),k=v(),C=i(),S=function(){if(jt)return ht;jt=1;var t=s(),r=ar(),e=c(),n=Function.prototype,i=Object.prototype,o=n.toString,a=i.hasOwnProperty,u=o.call(Object);return ht=function(n){if(!e(n)||"[object Object]"!=t(n))return!1;var i=r(n);if(null===i)return!0;var c=a.call(i,"constructor")&&i.constructor;return"function"==typeof c&&c instanceof c&&o.call(c)==u}}(),W=p(),B=cr(),P=function(){if(Pt)return Bt;Pt=1;var t=sr(),r=lr();return Bt=function(e){return t(e,r(e))}}();return At=function(t,r,e,n,i,o,a){var u=B(t,e),c=B(r,e),s=a.get(c);if(s)j(t,e,s);else{var f=o?o(u,c,e+"",t,r,a):void 0,l=void 0===f;if(l){var d=_(c),m=!d&&O(c),v=!d&&!m&&W(c);f=c,d||m||v?_(u)?f=u:T(u)?f=y(u):m?(l=!1,f=b(c,!0)):v?(l=!1,f=x(c,!0)):f=[]:S(c)||w(c)?(f=u,w(u)?f=P(u):C(u)&&!k(u)||(f=g(c))):l=!1}l&&(a.set(c,f),i(f,c,n,o,a),a.delete(c)),j(t,e,f)}}}function mr(){if(Nt)return Lt;return Nt=1,Lt=function(t){return t}}function vr(){if(Vt)return Ht;Vt=1;var t=Ft?Rt:(Ft=1,Rt=function(t,r,e){switch(e.length){case 0:return t.call(r);case 1:return t.call(r,e[0]);case 2:return t.call(r,e[0],e[1]);case 3:return t.call(r,e[0],e[1],e[2])}return t.apply(r,e)}),r=Math.max;return Ht=function(e,n,i){return n=r(void 0===n?e.length-1:n,0),function(){for(var o=arguments,a=-1,u=r(o.length-n,0),c=Array(u);++a<u;)c[a]=o[n+a];a=-1;for(var s=Array(n+1);++a<n;)s[a]=o[a];return s[n]=i(c),t(e,this,s)}},Ht}function pr(){if(Jt)return Ut;Jt=1;var t=Mt?qt:(Mt=1,qt=function(t){return function(){return t}}),r=Z(),e=mr();return Ut=r?function(e,n){return r(e,"toString",{configurable:!0,enumerable:!1,value:t(n),writable:!0})}:e}function hr(){if(Kt)return Gt;Kt=1;var t=pr(),r=function(){if($t)return Xt;$t=1;var t=Date.now;return Xt=function(r){var e=0,n=0;return function(){var i=t(),o=16-(i-n);if(n=i,o>0){if(++e>=800)return arguments[0]}else e=0;return r.apply(void 0,arguments)}},Xt}(),e=r(t);return Gt=e}function jr(){if(rr)return tr;rr=1;var t=function(){if(Yt)return Qt;Yt=1;var t=mr(),r=vr(),e=hr();return Qt=function(n,i){return e(r(n,i,t),n+"")}}(),e=function(){if(Zt)return zt;Zt=1;var t=r(),e=u(),n=j(),o=i();return zt=function(r,i,a){if(!o(a))return!1;var u=typeof i;return!!("number"==u?e(a)&&n(i,a.length):"string"==u&&i in a)&&t(a[i],r)}}();return tr=function(r){return t((function(t,n){var i=-1,o=n.length,a=o>1?n[o-1]:void 0,u=o>2?n[2]:void 0;for(a=r.length>3&&"function"==typeof a?(o--,a):void 0,u&&e(n[0],n[1],u)&&(a=o<3?void 0:a,o=1),t=Object(t);++i<o;){var c=n[i];c&&r(t,c,i,a)}return t}))}}const br=b(function(){if(nr)return er;nr=1;var t=function(){if(Et)return It;Et=1;var t=h(),r=rt(),e=et(),n=dr(),o=i(),a=lr(),u=cr();return It=function i(c,s,f,l,d){c!==s&&e(s,(function(e,a){if(d||(d=new t),o(e))n(c,s,a,f,i,l,d);else{var m=l?l(u(c,a),e,a+"",c,s,d):void 0;void 0===m&&(m=e),r(c,a,m)}}),a)},It}(),r=jr()((function(r,e,n){t(r,e,n)}));return er=r}()),xr=T((()=>k((()=>import("./WebTimerChart-RRgkIxHI.js").then((t=>t.W))),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]),import.meta.url)),{fallback:N}),yr=T((()=>k((()=>import("./UploadModal-DObBV9ds.js")),__vite__mapDeps([26,1,2,4,27,15,28,20,25,29]),import.meta.url)),{fallback:L}),gr="web_timer",wr="web_timer_show_time_on_title";function _r(){const{ti:t}=W(),{message:r}=B(),[e,n]=F("WebTimer.data",{}),[i,o]=F("WebTimer.showTimerOnTitle",!1),[a,u]=F("WebTimer.enabled",!1);x.useEffect((()=>{C("web_timer").then(u)}),[]),x.useEffect((()=>{y(gr).then((t=>{console.log("webtimer ne",t),n(t||{})})),y(wr).then(o)}),[]);return g.jsx(S,{title:"⏰ WebTimer",mode:"center",children:g.jsxs(P,{direction:"vertical",align:"center",children:[g.jsx(A,{type:"info",showIcon:!0,message:g.jsxs(g.Fragment,{children:[t({vi:"Đếm thời gian truy cập internet",en:"Count time you spend on internet"})," ",g.jsxs("a",{href:"https://www.facebook.com/groups/fbaio/posts/1661830854471596/",target:"_blank",children:[t({vi:"Tìm hiểu thêm",en:"Learn more"})," ",g.jsx("i",{className:"fa-solid fa-arrow-up-right-from-square"})]})]})}),a?null:g.jsx(A,{type:"error",showIcon:!0,message:t({vi:g.jsx(g.Fragment,{children:g.jsxs(D.Text,{children:["WebTimer chưa được kích hoạt. Vui lòng kích hoạt tại"," ",g.jsx(w,{to:"/autorun",children:"Tự chạy"})]})}),en:g.jsx(g.Fragment,{children:g.jsxs(D.Text,{children:["WebTimer is not enabled. Please enable at"," ",g.jsx(w,{to:"/autorun",children:"AutoRun"})]})})})}),g.jsx(H,{}),g.jsxs(P,{direction:"vertical",align:"center",children:[g.jsxs(P,{children:[g.jsx(D.Text,{children:t({vi:"Hiển thị thời gian trên tiêu đề trang web",en:"Show timer on website title"})}),g.jsx(V,{checked:i,onChange:t=>{o(t),_(wr,t)},checkedChildren:t({vi:"Hiện",en:"Show"}),unCheckedChildren:t({vi:"Ẩn",en:"Hide"})})]}),g.jsxs(P.Compact,{children:[g.jsx(yr,{accept:".json",title:t({vi:"Nhập dữ liệu WebTimer",en:"Import WebTimer data"}),text:t({vi:"Click chọn hoặc kéo thả file .json vào đây",en:"Click or drag .json file to this area to upload"}),hint:t({vi:"Hỗ trợ file .json xuất từ FB AIO hoặc Useful Script",en:"Support .json file exported from FB AIO or Useful Script"}),renderButton:({showModal:r})=>g.jsx(I,{title:t({vi:"Nhập dữ liệu từ file, để khôi phục",en:"Import data from file, to restore"}),placement:"bottom",children:g.jsx(O,{icon:g.jsx("i",{className:"fa-solid fa-file-import"}),onClick:r,children:t({vi:"Nhập",en:"Import"})})}),onSubmit:async e=>{var i;const o=E(e),a=(null==(i=null==o?void 0:o.chromeStorage)?void 0:i.web_timer)||o||{},u=Object.keys(a).length;if(u){const e=(await k((async()=>{const{default:t}=await import("./sweetalert2.esm.all-BZxvatOx.js");return{default:t}}),[],import.meta.url)).default,i=await e.fire({icon:"question",title:t({vi:"Nhập dữ liệu WebTimer",en:"Import WebTimer data"}),text:t({vi:`Tìm thấy ${u} ngày. Vui lòng chọn chế độ`,en:`Found ${u} days. Please select mode`}),showCancelButton:!0,showDenyButton:!0,showConfirmButton:!0,confirmButtonText:t({vi:"Ghi đè",en:"Override"}),cancelButtonText:t({vi:"Hủy",en:"Cancel"}),denyButtonText:t({vi:"Hợp nhất",en:"Merge"})});if(i.isConfirmed){(await e.fire({icon:"question",title:t({vi:"Xác nhận ghi đè",en:"Confirm override"}),text:t({vi:"Dữ liệu cũ sẽ bị xoá. Bạn có chắc chắn muốn tiếp tục?",en:"The old data will be deleted. Are you sure you want to continue?"}),showCancelButton:!0,confirmButtonText:t({vi:"Ghi đè",en:"Override"}),cancelButtonText:t({vi:"Hủy",en:"Cancel"})})).isConfirmed&&(n(a),_(gr,a),r.success(t({vi:"Đã ghi đè dữ liệu WebTimer",en:"WebTimer data overridden"})+" "+Object.keys(a).length+" "+t({vi:"ngày",en:"days"})))}else i.isDenied&&n((e=>{const n=br({},e,a);return _(gr,n),r.success(t({vi:"Đã hợp nhất dữ liệu WebTimer",en:"WebTimer data merged"})+" "+Object.keys(n).length+" "+t({vi:"ngày",en:"days"})),n}))}else r.error(t({vi:"Không tìm thấy dữ liệu WebTimer",en:"WebTimer data not found"}))}}),g.jsx(I,{title:t({vi:"Xuất dữ liệu ra file, để lưu trữ",en:"Export data to file, to save"}),placement:"bottom",children:g.jsx(O,{icon:g.jsx("i",{className:"fa-solid fa-download"}),onClick:async()=>{const t=await y(gr),{downloadData:r}=await k((async()=>{const{downloadData:t}=await import("./download-KJKGHAGZ.js");return{downloadData:t}}),[],import.meta.url);r(JSON.stringify(t),"web_timer_"+(new Date).toISOString()+".json")},children:t({vi:"Xuất",en:"Export"})})})]})]}),g.jsx(H,{}),Object.keys(e).length>0?g.jsx(xr,{data:e}):g.jsx(q,{description:t({vi:"Không có dữ liệu",en:"No data"})})]})})}export{_r as default};
