import{bc as e,r as i,a_ as l,b1 as s,b5 as t}from"./index-DZEcYG8Q.js";import{u as n}from"./react-hotkeys-hook.esm-D8zm19cE.js";import{u as a,s as o,t as r,S as c,b as d,c as u,T as f,l as p}from"./MyApp-DRRa55Bd.js";import{M as m}from"./index-iP3EwXx5.js";import{I as h}from"./index-B87p3I4c.js";import{D as j}from"./index-DHhmxYJT.js";import"./PurePanel-Beni9Vkb.js";import"./Input-LTpJ6AuY.js";import"./EyeOutlined-BBPXKIU8.js";import"./SearchOutlined-Bh66KhXc.js";const x=[{title:{vi:"Tất cả tính năng",en:"List all features"},icon:"fa-solid fa-location-arrow",link:"/vip"},{title:{vi:"Lịch sử cập nhật",en:"Update logs"},icon:"fa-solid fa-circle-up",link:"/updates"},{title:{vi:"Mua VIP",en:"Buy VIP"},icon:"fa-solid fa-crown",link:"/checkout"},{title:{vi:"FAQ: Câu hỏi thường gặp",en:"FAQs"},icon:"fa-solid fa-question",link:"/FAQ"},{title:{vi:"Trợ giúp",en:"Help"},icon:"fa-solid fa-life-ring",link:l.GroupFB,newTab:!0}];function v({style:l={},compact:v=!1}){const g=e(),{ti:k}=a(),[y,b]=i.useState(""),[w,T]=i.useState(!1),[S,B]=i.useState([]),C=i.useRef(null),N=i.useMemo((()=>{var e;let i=x;for(let l of S){let s=null==(e=null==i?void 0:i[l])?void 0:e.children;if(!s)break;i=s}return y?i.filter((e=>{var i,l,s,t;return e.divider||o(y,null==(i=e.title)?void 0:i.en)||o(y,null==(l=e.title)?void 0:l.vi)||o(y,null==(s=e.description)?void 0:s.en)||o(y,null==(t=e.description)?void 0:t.vi)})):i}),[y,k,S]);n(["ctrl+k","meta+k"],(()=>{r("GlobalSearch:Shortcut"),T((e=>!e))})),i.useEffect((()=>{w&&(r("GlobalSearch:Open"),setTimeout((()=>{var e;return null==(e=C.current)?void 0:e.focus()}),500))}),[w]);return s.jsxs(c,{style:l,children:[s.jsx(t,{type:"default",icon:s.jsx("i",{className:"fa-solid fa-magnifying-glass"}),onClick:()=>T(!0),style:v?{}:{borderRadius:"9999px",padding:18},children:v?null:s.jsxs(s.Fragment,{children:[k({en:"Search",vi:"Tìm"})," ",s.jsx(d,{style:{borderRadius:"9999px"},children:"⌘ K"})]})}),s.jsxs(m,{open:w,onCancel:()=>T(!1),footer:null,closable:!1,children:[s.jsx(h,{ref:C,placeholder:k({en:"Global search",vi:"Tìm kiếm toàn cục"}),prefix:s.jsx("i",{className:"fa-solid fa-magnifying-glass"}),style:{marginBottom:10},value:y,onChange:e=>b(e.target.value)}),S.length>0&&s.jsx(t,{icon:s.jsx("i",{className:"fa-solid fa-arrow-left"}),onClick:()=>{b(""),B((e=>e.slice(0,e.length-1)))},style:{marginBottom:10},children:k({en:"Back",vi:"Quay lại"})}),N.map(((e,i)=>e.divider?s.jsxs("div",{children:[s.jsx(j,{style:{marginTop:20,marginBottom:0,paddingBottom:0}}),s.jsx(u.Title,{level:5,children:k(e.title)})]},"header"+i):s.jsx(f,{title:e.description?k(e.description):null,placement:"right",children:s.jsxs(t,{type:"text",style:{width:"100%",justifyContent:"space-between"},onClick:()=>{e.children?B((e=>[...e,i])):(e.keepOpen||T(!1),e.link&&(e.newTab?window.open(e.link,"_blank"):g(e.link)))},children:[s.jsxs(c,{children:[s.jsx("i",{className:e.icon}),k(e.title)]}),s.jsxs("div",{children:[e.requireVIP&&s.jsx("i",{className:"fa-solid fa-crown",style:{color:"gold",opacity:.5}}),e.children?s.jsx("i",{className:"fa-solid fa-chevron-right"}):s.jsx(d,{children:p(e.link,30)})]})]},i)},i)))]})]})}export{v as default};
